"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9746],{74824:function(e,r,t){t.d(r,{d:function(){return m},z:function(){return f}});var n=t(59499),s=t(4730),a=t(67294),c=t(88426),i=t(45139),o=t(82359),l=t(85893),d=["className","variant","size","asChild"];function u(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}var m=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),f=a.forwardRef(function(e,r){var t=e.className,a=e.variant,i=e.size,f=e.asChild,p=(0,s.Z)(e,d),h=void 0!==f&&f?c.g7:"button";return(0,l.jsx)(h,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?u(Object(t),!0).forEach(function(r){(0,n.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}({className:(0,o.cn)(m({variant:a,size:i,className:t})),ref:r},p))});f.displayName="Button"},5411:function(e,r,t){t.d(r,{$0:function(){return w},Dj:function(){return P},dN:function(){return O},kN:function(){return y},ng:function(){return N},nt:function(){return g},tl:function(){return v}});var n=t(59499),s=t(4730),a=t(67294),c=t(62469),i=t(82359),o=t(74824),l=t(85893),d=["className"],u=["className"],m=["className"],f=["className","isActive","size"],p=["className"],h=["className"],j=["className"];function x(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function b(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?x(Object(t),!0).forEach(function(r){(0,n.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var v=function(e){var r=e.className,t=(0,s.Z)(e,d);return(0,l.jsx)("nav",b({role:"navigation","aria-label":"pagination",className:(0,i.cn)("mx-auto flex w-full justify-center",r)},t))};v.displayName="Pagination";var N=a.forwardRef(function(e,r){var t=e.className,n=(0,s.Z)(e,u);return(0,l.jsx)("ul",b({ref:r,className:(0,i.cn)("flex flex-row items-center gap-1",t)},n))});N.displayName="PaginationContent";var g=a.forwardRef(function(e,r){var t=e.className,n=(0,s.Z)(e,m);return(0,l.jsx)("li",b({ref:r,className:(0,i.cn)("",t)},n))});g.displayName="PaginationItem";var y=function(e){var r=e.className,t=e.isActive,n=e.size,a=(0,s.Z)(e,f);return(0,l.jsx)("a",b({"aria-current":t?"page":void 0,className:(0,i.cn)((0,o.d)({variant:t?"outline":"ghost",size:void 0===n?"icon":n}),r)},a))};y.displayName="PaginationLink";var O=function(e){var r=e.className,t=(0,s.Z)(e,p);return(0,l.jsxs)(y,b(b({"aria-label":"Go to previous page",size:"default",className:(0,i.cn)("gap-1 pl-2.5",r)},t),{},{children:[(0,l.jsx)(c.wyc,{className:"h-4 w-4"}),(0,l.jsx)("span",{children:"Previous"})]}))};O.displayName="PaginationPrevious";var w=function(e){var r=e.className,t=(0,s.Z)(e,h);return(0,l.jsxs)(y,b(b({"aria-label":"Go to next page",size:"default",className:(0,i.cn)("gap-1 pr-2.5",r)},t),{},{children:[(0,l.jsx)("span",{children:"Next"}),(0,l.jsx)(c.XCv,{className:"h-4 w-4"})]}))};w.displayName="PaginationNext";var P=function(e){var r=e.className,t=(0,s.Z)(e,j);return(0,l.jsxs)("span",b(b({"aria-hidden":!0,className:(0,i.cn)("flex h-9 w-9 items-center justify-center",r)},t),{},{children:[(0,l.jsx)(c.nWS,{className:"h-4 w-4"}),(0,l.jsx)("span",{className:"sr-only",children:"More pages"})]}))};P.displayName="PaginationEllipsis"},96071:function(e,r,t){t.d(r,{RM:function(){return N},Rn:function(){return w},SC:function(){return g},iA:function(){return b},pj:function(){return O},ss:function(){return y},xD:function(){return v}});var n=t(59499),s=t(4730),a=t(67294),c=t(82359),i=t(85893),o=["className"],l=["className"],d=["className"],u=["className"],m=["className"],f=["className"],p=["className"],h=["className"];function j(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function x(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?j(Object(t),!0).forEach(function(r){(0,n.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var b=a.forwardRef(function(e,r){var t=e.className,n=(0,s.Z)(e,o);return(0,i.jsx)("div",{className:"relative w-full overflow-auto",children:(0,i.jsx)("table",x({ref:r,className:(0,c.cn)("w-full caption-bottom text-sm",t)},n))})});b.displayName="Table";var v=a.forwardRef(function(e,r){var t=e.className,n=(0,s.Z)(e,l);return(0,i.jsx)("thead",x({ref:r,className:(0,c.cn)("[&_tr]:border-b",t)},n))});v.displayName="TableHeader";var N=a.forwardRef(function(e,r){var t=e.className,n=(0,s.Z)(e,d);return(0,i.jsx)("tbody",x({ref:r,className:(0,c.cn)("[&_tr:last-child]:border-0",t)},n))});N.displayName="TableBody",a.forwardRef(function(e,r){var t=e.className,n=(0,s.Z)(e,u);return(0,i.jsx)("tfoot",x({ref:r,className:(0,c.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t)},n))}).displayName="TableFooter";var g=a.forwardRef(function(e,r){var t=e.className,n=(0,s.Z)(e,m);return(0,i.jsx)("tr",x({ref:r,className:(0,c.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t)},n))});g.displayName="TableRow";var y=a.forwardRef(function(e,r){var t=e.className,n=(0,s.Z)(e,f);return(0,i.jsx)("th",x({ref:r,className:(0,c.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t)},n))});y.displayName="TableHead";var O=a.forwardRef(function(e,r){var t=e.className,n=(0,s.Z)(e,p);return(0,i.jsx)("td",x({ref:r,className:(0,c.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t)},n))});O.displayName="TableCell";var w=a.forwardRef(function(e,r){var t=e.className,n=(0,s.Z)(e,h);return(0,i.jsx)("caption",x({ref:r,className:(0,c.cn)("mt-4 text-sm text-muted-foreground",t)},n))});w.displayName="TableCaption"},29746:function(e,r,t){t.r(r),t.d(r,{default:function(){return P}});var n=t(27812),s=t(67294),a=t(11163),c=t(33526),i=t(74824),o=t(96071),l=t(59499),d=t(4730),u=t(25443),m=t(82359),f=t(85893),p=["className","children"],h=["className","orientation"];function j(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function x(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?j(Object(t),!0).forEach(function(r){(0,l.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var b=s.forwardRef(function(e,r){var t=e.className,n=e.children,s=(0,d.Z)(e,p);return(0,f.jsxs)(u.fC,x(x({ref:r,className:(0,m.cn)("relative overflow-hidden",t)},s),{},{children:[(0,f.jsx)(u.l_,{className:"h-full w-full rounded-[inherit]",children:n}),(0,f.jsx)(v,{}),(0,f.jsx)(u.Ns,{})]}))});b.displayName=u.fC.displayName;var v=s.forwardRef(function(e,r){var t=e.className,n=e.orientation,s=void 0===n?"vertical":n,a=(0,d.Z)(e,h);return(0,f.jsx)(u.gb,x(x({ref:r,orientation:s,className:(0,m.cn)("flex touch-none select-none transition-colors","vertical"===s&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===s&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t)},a),{},{children:(0,f.jsx)(u.q4,{className:"relative flex-1 rounded-full bg-border"})}))});v.displayName=u.gb.displayName;var N=t(99603),g=t(59417),y=t(5411),O=function(e){return e.checkinDate&&e.checkinTime&&e.checkoutDate&&e.checkoutTime?{emoji:"✅",status:"Completed",color:"bg-purple-100 text-purple-800"}:e.checkoutDate&&e.checkoutTime?{emoji:"⏱️",status:"Checked Out",color:"bg-orange-100 text-orange-800"}:e.checkinDate&&e.checkinTime?{emoji:"\uD83D\uDD70️",status:"On Going",color:"bg-green-100 text-green-800"}:{emoji:"\uD83D\uDCC5",status:"Assigned",color:"bg-blue-100 text-blue-800"}},w=function(e,r){if(!e)return"";var t=new Date("".concat(e,"T").concat(r));return"".concat(t.toLocaleDateString("en-US",{month:"short",day:"numeric"})," '").concat(t.getFullYear().toString().slice(-2))+(r?" ".concat(t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})):"")},P=function(e){var r=e.isOpen,t=e.onClose,l=e.visitData,d=e.selectedDate,u=e.employeeName,m=(0,s.useState)(null),p=m[0],h=m[1],j=(0,s.useState)(1),x=j[0],v=j[1],P=(0,a.useRouter)(),k=function(e){P.push("/VisitDetailPage/".concat(e))},D=function(e){v(e)},C=7*x,S=l.slice(C-7,C);return(0,f.jsxs)(c.Vq,{open:r,onOpenChange:t,children:[(0,f.jsxs)(c.cZ,{className:"max-w-6xl",children:[(0,f.jsx)(c.fK,{children:(0,f.jsxs)(c.$N,{className:"text-2xl font-bold flex items-center space-x-2",children:[(0,f.jsx)(N.G,{icon:g.IV4,className:"text-blue-600"}),(0,f.jsxs)("span",{children:["Visits for ",u," on ",new Date(d).toLocaleDateString("en-US",{month:"short",day:"numeric"})," '",new Date(d).getFullYear().toString().slice(-2)]})]})}),(0,f.jsx)(b,{className:"h-[60vh] w-full rounded-md border p-4",children:S.length>0?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(o.iA,{children:[(0,f.jsx)(o.xD,{children:(0,f.jsxs)(o.SC,{children:[(0,f.jsx)(o.ss,{children:"Customer Name"}),(0,f.jsx)(o.ss,{children:"Executive"}),(0,f.jsx)(o.ss,{children:"Date"}),(0,f.jsx)(o.ss,{children:"Status"}),(0,f.jsx)(o.ss,{children:"Purpose"}),(0,f.jsx)(o.ss,{children:"Visit Start"}),(0,f.jsx)(o.ss,{children:"Visit End"}),(0,f.jsx)(o.ss,{children:"Intent"}),(0,f.jsx)(o.ss,{children:"Last Updated"}),(0,f.jsx)(o.ss,{children:"Actions"})]})}),(0,f.jsx)(o.RM,{children:S.map(function(e){var r=O(e),t=r.emoji,n=r.status,s=r.color;return(0,f.jsxs)(o.SC,{children:[(0,f.jsx)(o.pj,{children:e.storeName||""}),(0,f.jsx)(o.pj,{children:u||""}),(0,f.jsx)(o.pj,{children:new Date(d).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),(0,f.jsx)(o.pj,{children:(0,f.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-md text-sm font-medium ".concat(s),children:[t," ",n]})}),(0,f.jsx)(o.pj,{children:e.purpose||""}),(0,f.jsx)(o.pj,{children:w(e.checkinDate,e.checkinTime)||""}),(0,f.jsx)(o.pj,{children:w(e.checkoutDate,e.checkoutTime)||""}),(0,f.jsx)(o.pj,{children:e.intent||""}),(0,f.jsx)(o.pj,{children:w(e.updatedAt,e.updatedTime)||""}),(0,f.jsx)(o.pj,{children:(0,f.jsxs)(i.z,{size:"sm",variant:"outline",onClick:function(){return k(e.id)},children:[(0,f.jsx)(N.G,{icon:g.Mdf,className:"mr-2 h-4 w-4"}),"View"]})})]},e.id)})})]}),(0,f.jsx)(y.tl,{className:"mt-4",children:(0,f.jsxs)(y.ng,{children:[(0,f.jsx)(y.dN,{onClick:function(){return D(x-1)}}),(0,n.Z)(Array(Math.ceil(l.length/7)).keys()).map(function(e){return(0,f.jsx)(y.nt,{children:(0,f.jsx)(y.kN,{isActive:e+1===x,onClick:function(){return D(e+1)},children:e+1})},e)}),(0,f.jsx)(y.$0,{onClick:function(){return D(x+1)}})]})})]}):(0,f.jsx)("div",{className:"text-center py-8",children:(0,f.jsxs)("p",{className:"text-lg font-semibold text-red-600 flex items-center justify-center space-x-2",children:[(0,f.jsx)(N.G,{icon:g.eHv,className:"text-red-600"}),(0,f.jsx)("span",{children:"No visits on this day"})]})})}),(0,f.jsx)(c.cN,{children:(0,f.jsx)(i.z,{onClick:t,children:"Close"})})]}),p&&(0,f.jsx)(c.Vq,{open:!!p,onOpenChange:function(){return h(null)},children:(0,f.jsxs)(c.cZ,{children:[(0,f.jsx)(c.fK,{children:(0,f.jsxs)(c.$N,{children:["Visit Details for ",p.storeName]})}),(0,f.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("p",{className:"font-semibold",children:"Customer Name:"}),(0,f.jsx)("p",{children:p.storeName||""})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("p",{className:"font-semibold",children:"Executive:"}),(0,f.jsx)("p",{children:u||""})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("p",{className:"font-semibold",children:"Date:"}),(0,f.jsx)("p",{children:w(p.visit_date,"")||""})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("p",{className:"font-semibold",children:"Status:"}),(0,f.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-md text-sm font-medium ".concat(O(p).color),children:[O(p).emoji," ",O(p).status]})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("p",{className:"font-semibold",children:"Purpose:"}),(0,f.jsx)("p",{children:p.purpose||""})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("p",{className:"font-semibold",children:"Visit Start:"}),(0,f.jsx)("p",{children:w(p.checkinDate,p.checkinTime)||""})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("p",{className:"font-semibold",children:"Visit End:"}),(0,f.jsx)("p",{children:w(p.checkoutDate,p.checkoutTime)||""})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("p",{className:"font-semibold",children:"Intent:"}),(0,f.jsx)("p",{children:p.intent||""})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("p",{className:"font-semibold",children:"Last Updated:"}),(0,f.jsx)("p",{children:w(p.updatedAt,p.updatedTime)||""})]})]}),(0,f.jsx)(c.cN,{children:(0,f.jsx)(i.z,{onClick:function(){return h(null)},children:"Close"})})]})})]})}}}]);