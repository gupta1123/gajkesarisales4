(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1218],{74824:function(e,t,r){"use strict";r.d(t,{d:function(){return d},z:function(){return p}});var n=r(59499),a=r(4730),o=r(67294),i=r(88426),s=r(45139),c=r(82359),u=r(85893),l=["className","variant","size","asChild"];function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var d=(0,s.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),p=o.forwardRef(function(e,t){var r=e.className,o=e.variant,s=e.size,p=e.asChild,h=(0,a.Z)(e,l),m=void 0!==p&&p?i.g7:"button";return(0,u.jsx)(m,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({className:(0,c.cn)(d({variant:o,size:s,className:r})),ref:t},h))});p.displayName="Button"},77670:function(e,t,r){"use strict";r.d(t,{X:function(){return z}});var n=r(59499),a=r(4730),o=r(67294),i=r(28771),s=r(25360),c=r(36206),u=r(77342),l=r(57898),f=r(7546),d=r(29115),p=r(75320),h=r(85893),m="Checkbox",[v,b]=(0,s.b)(m),[y,g]=v(m),x=o.forwardRef((e,t)=>{let{__scopeCheckbox:r,name:n,checked:a,defaultChecked:s,required:l,disabled:f,value:d="on",onCheckedChange:m,...v}=e,[b,g]=o.useState(null),x=(0,i.e)(t,e=>g(e)),j=o.useRef(!1),w=!b||!!b.closest("form"),[S=!1,E]=(0,u.T)({prop:a,defaultProp:s,onChange:m}),C=o.useRef(S);return o.useEffect(()=>{let e=b?.form;if(e){let t=()=>E(C.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[b,E]),(0,h.jsxs)(y,{scope:r,state:S,disabled:f,children:[(0,h.jsx)(p.WV.button,{type:"button",role:"checkbox","aria-checked":O(S)?"mixed":S,"aria-required":l,"data-state":N(S),"data-disabled":f?"":void 0,disabled:f,value:d,...v,ref:x,onKeyDown:(0,c.M)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,c.M)(e.onClick,e=>{E(e=>!!O(e)||!e),w&&(j.current=e.isPropagationStopped(),j.current||e.stopPropagation())})}),w&&(0,h.jsx)(k,{control:b,bubbles:!j.current,name:n,value:d,checked:S,required:l,disabled:f,style:{transform:"translateX(-100%)"}})]})});x.displayName=m;var j="CheckboxIndicator",w=o.forwardRef((e,t)=>{let{__scopeCheckbox:r,forceMount:n,...a}=e,o=g(j,r);return(0,h.jsx)(d.z,{present:n||O(o.state)||!0===o.state,children:(0,h.jsx)(p.WV.span,{"data-state":N(o.state),"data-disabled":o.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});w.displayName=j;var k=e=>{let{control:t,checked:r,bubbles:n=!0,...a}=e,i=o.useRef(null),s=(0,l.D)(r),c=(0,f.t)(t);return o.useEffect(()=>{let e=i.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(s!==r&&t){let a=new Event("click",{bubbles:n});e.indeterminate=O(r),t.call(e,!O(r)&&r),e.dispatchEvent(a)}},[s,r,n]),(0,h.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:!O(r)&&r,...a,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function O(e){return"indeterminate"===e}function N(e){return O(e)?"indeterminate":e?"checked":"unchecked"}var S=r(62469),E=r(82359),C=["className"];function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var z=o.forwardRef(function(e,t){var r=e.className,n=(0,a.Z)(e,C);return(0,h.jsx)(x,A(A({ref:t,className:(0,E.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r)},n),{},{children:(0,h.jsx)(w,{className:(0,E.cn)("flex items-center justify-center text-current"),children:(0,h.jsx)(S.nQG,{className:"h-4 w-4"})})}))});z.displayName=x.displayName},77310:function(e,t,r){"use strict";r.r(t);var n=r(27812),a=r(50029),o=r(64687),i=r.n(o),s=r(67294),c=r(45007),u=r(33526),l=r(74824),f=r(52403),d=r(77670),p=r(85893);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}t.default=function(){var e,t=(0,s.useState)(!1),r=t[0],o=t[1],m=(0,s.useState)(null),v=m[0],b=m[1],y=(0,s.useState)([]),g=y[0],x=y[1],j=(0,s.useState)([]),w=j[0],k=j[1],O=(0,s.useState)([]),N=O[0],S=O[1],E=(0,s.useState)([]),C=E[0],P=E[1],A=(0,s.useState)([]),z=A[0],Z=A[1],D=(0,c.v9)(function(e){return e.auth.token});(0,s.useEffect)(function(){var e,t,r=(e=(0,a.Z)(i().mark(function e(){var t;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.gajkesaristeels.in/employee/getOfficeManager",{headers:{Authorization:"Bearer ".concat(D)}});case 3:return t=e.sent,e.next=6,t.json();case 6:S(e.sent),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error fetching office managers:",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])})),function(){return e.apply(this,arguments)}),n=(t=(0,a.Z)(i().mark(function e(){var t;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.gajkesaristeels.in/employee/getAll",{headers:{Authorization:"Bearer ".concat(D)}});case 3:return t=e.sent,e.next=6,t.json();case 6:P(Array.from(new Set(e.sent.map(function(e){return e.city})))),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error fetching cities:",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])})),function(){return t.apply(this,arguments)});D&&(r(),n())},[D]),(0,s.useEffect)(function(){var e,t=(e=(0,a.Z)(i().mark(function e(){var t,r,a,o,s,c;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=[],r=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return h(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,void 0)}}(e))){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw o}}}}(g),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=21;break}return o=a.value,e.prev=6,e.next=9,fetch("https://api.gajkesaristeels.in/employee/getFieldOfficerByCity?city=".concat(o),{headers:{Authorization:"Bearer ".concat(D)}});case 9:return s=e.sent,e.next=12,s.json();case 12:c=e.sent,t.push.apply(t,(0,n.Z)(c)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),console.error("Error fetching employees for city ".concat(o,":"),e.t0);case 19:e.next=4;break;case 21:e.next=26;break;case 23:e.prev=23,e.t1=e.catch(2),r.e(e.t1);case 26:return e.prev=26,r.f(),e.finish(26);case 29:Z(t);case 30:case"end":return e.stop()}},e,null,[[2,23,26,29],[6,16]])})),function(){return e.apply(this,arguments)});g.length>0&&t()},[g,D]);var _=function(){o(!1)},T=function(e){k(function(t){return t.includes(e)?t.filter(function(t){return t!==e}):[].concat((0,n.Z)(t),[e])})},I=(e=(0,a.Z)(i().mark(function e(){var t,r;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(v){e.next=2;break}return e.abrupt("return");case 2:return t={officeManager:v.value,fieldOfficers:w},e.prev=3,e.next=6,fetch("https://api.gajkesaristeels.in/employee/team/create",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(D)},body:JSON.stringify(t)});case 6:if((r=e.sent).ok){e.next=14;break}return e.next=10,r.json();case 10:console.error("Error creating team:",e.sent),e.next=19;break;case 14:return e.next=16,r.json();case 16:console.log("Team created successfully:",e.sent),_();case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(3),console.error("Error creating team:",e.t0);case 24:case"end":return e.stop()}},e,null,[[3,21]])})),function(){return e.apply(this,arguments)}),M=C.map(function(e){return{value:e,label:e}});return(0,p.jsxs)("div",{children:["\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,p.jsxs)(u.Vq,{open:r,onOpenChange:o,children:["\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,p.jsxs)(u.hg,{asChild:!0,children:["\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,p.jsx)(l.z,{onClick:function(){o(!0)},className:"ml-4",children:"Add Team"}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 "]}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,p.jsxs)(u.cZ,{className:"sm:max-w-[425px]",children:["\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,p.jsxs)(u.fK,{children:["\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,p.jsx)(u.$N,{children:"Add Item"}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 "]}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,p.jsxs)("div",{className:"grid gap-4 py-4",children:["\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,p.jsxs)("div",{className:"grid gap-2",children:["\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,p.jsx)("label",{htmlFor:"officeManager",children:"Office Manager"}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,p.jsx)(f.ZP,{value:v,onChange:function(e){return b(e)},options:N.map(function(e){return{value:e.id,label:"".concat(e.firstName," ").concat(e.lastName)}}),placeholder:"Select an office manager"}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 "]}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,p.jsxs)("div",{className:"grid gap-2",children:["\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,p.jsx)("label",{htmlFor:"city",children:"City"}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,p.jsx)(f.ZP,{isMulti:!0,value:g.map(function(e){return{value:e,label:e}}),onChange:function(e){return x(e.map(function(e){return e.value}))},options:M,placeholder:"Select cities"}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 "]}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,p.jsxs)("div",{className:"grid gap-2",children:["\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,p.jsx)("label",{htmlFor:"employeeName",children:"Employee Name"}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,p.jsxs)("div",{className:"space-y-2",children:["\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",z.map(function(e){return(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:["\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,p.jsx)(d.X,{id:"employee-".concat(e.id),checked:w.includes(e.id),onCheckedChange:function(){return T(e.id)}}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,p.jsxs)("label",{htmlFor:"employee-".concat(e.id),className:"cursor-pointer",children:["\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",e.firstName," ",e.lastName,"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 "]}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 "]},e.id)}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 "]}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 "]}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 "]}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,p.jsxs)("div",{className:"flex justify-end",children:["\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,p.jsx)(l.z,{variant:"outline",onClick:_,children:"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 Cancel \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 "}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,p.jsx)(l.z,{onClick:I,children:"Create Team"}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 "]}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 "]}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 "]}),"\xa0 \xa0 \xa0 \xa0 "]})}},18381:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/AddItem",function(){return r(77310)}])},57898:function(e,t,r){"use strict";r.d(t,{D:function(){return a}});var n=r(67294);function a(e){let t=n.useRef({value:e,previous:e});return n.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},7546:function(e,t,r){"use strict";r.d(t,{t:function(){return o}});var n=r(67294),a=r(9981);function o(e){let[t,r]=n.useState(void 0);return(0,a.b)(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let n,a;if(!Array.isArray(t)||!t.length)return;let o=t[0];if("borderBoxSize"in o){let e=o.borderBoxSize,t=Array.isArray(e)?e[0]:e;n=t.inlineSize,a=t.blockSize}else n=e.offsetWidth,a=e.offsetHeight;r({width:n,height:a})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}},27812:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(52587),a=r(2937);function o(e){return function(e){if(Array.isArray(e))return(0,n.Z)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,a.Z)(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},function(e){e.O(0,[9545,2403,2888,9774,179],function(){return e(e.s=18381)}),_N_E=e.O()}]);