(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2767],{91936:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.350.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var n=(0,s(53526).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},5101:function(e,t,s){"use strict";s.d(t,{F$:function(){return x},Q5:function(){return p},qE:function(){return f}});var n=s(59499),r=s(4730),a=s(67294),c=s(10952),i=s(82359),l=s(85893),o=["className"],u=["className"],d=["className"];function m(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function h(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?m(Object(s),!0).forEach(function(t){(0,n.Z)(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):m(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}var f=a.forwardRef(function(e,t){var s=e.className,n=(0,r.Z)(e,o);return(0,l.jsx)(c.fC,h({ref:t,className:(0,i.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s)},n))});f.displayName=c.fC.displayName;var x=a.forwardRef(function(e,t){var s=e.className,n=(0,r.Z)(e,u);return(0,l.jsx)(c.Ee,h({ref:t,className:(0,i.cn)("aspect-square h-full w-full",s)},n))});x.displayName=c.Ee.displayName;var p=a.forwardRef(function(e,t){var s=e.className,n=(0,r.Z)(e,d);return(0,l.jsx)(c.NY,h({ref:t,className:(0,i.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",s)},n))});p.displayName=c.NY.displayName},96071:function(e,t,s){"use strict";s.d(t,{RM:function(){return y},Rn:function(){return C},SC:function(){return w},iA:function(){return N},pj:function(){return g},ss:function(){return b},xD:function(){return v}});var n=s(59499),r=s(4730),a=s(67294),c=s(82359),i=s(85893),l=["className"],o=["className"],u=["className"],d=["className"],m=["className"],h=["className"],f=["className"],x=["className"];function p(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function j(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?p(Object(s),!0).forEach(function(t){(0,n.Z)(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):p(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}var N=a.forwardRef(function(e,t){var s=e.className,n=(0,r.Z)(e,l);return(0,i.jsx)("div",{className:"relative w-full overflow-auto",children:(0,i.jsx)("table",j({ref:t,className:(0,c.cn)("w-full caption-bottom text-sm",s)},n))})});N.displayName="Table";var v=a.forwardRef(function(e,t){var s=e.className,n=(0,r.Z)(e,o);return(0,i.jsx)("thead",j({ref:t,className:(0,c.cn)("[&_tr]:border-b",s)},n))});v.displayName="TableHeader";var y=a.forwardRef(function(e,t){var s=e.className,n=(0,r.Z)(e,u);return(0,i.jsx)("tbody",j({ref:t,className:(0,c.cn)("[&_tr:last-child]:border-0",s)},n))});y.displayName="TableBody",a.forwardRef(function(e,t){var s=e.className,n=(0,r.Z)(e,d);return(0,i.jsx)("tfoot",j({ref:t,className:(0,c.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s)},n))}).displayName="TableFooter";var w=a.forwardRef(function(e,t){var s=e.className,n=(0,r.Z)(e,m);return(0,i.jsx)("tr",j({ref:t,className:(0,c.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s)},n))});w.displayName="TableRow";var b=a.forwardRef(function(e,t){var s=e.className,n=(0,r.Z)(e,h);return(0,i.jsx)("th",j({ref:t,className:(0,c.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s)},n))});b.displayName="TableHead";var g=a.forwardRef(function(e,t){var s=e.className,n=(0,r.Z)(e,f);return(0,i.jsx)("td",j({ref:t,className:(0,c.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s)},n))});g.displayName="TableCell";var C=a.forwardRef(function(e,t){var s=e.className,n=(0,r.Z)(e,x);return(0,i.jsx)("caption",j({ref:t,className:(0,c.cn)("mt-4 text-sm text-muted-foreground",s)},n))});C.displayName="TableCaption"},34174:function(e,t,s){"use strict";s.r(t);var n=s(50029),r=s(64687),a=s.n(r),c=s(67294),i=s(33526),l=s(74824),o=s(14031),u=s(45007),d=s(85893);t.default=function(e){var t=e.isOpen,s=e.onClose,r=e.onConfirm,m=(0,c.useState)(""),h=m[0],f=m[1],x=(0,c.useState)([]),p=x[0],j=x[1],N=(0,u.v9)(function(e){return e.auth.token});return(0,c.useEffect)(function(){var e,s=(e=(0,n.Z)(a().mark(function e(){var t;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.gajkesaristeels.in/employee/getAll",{headers:{Authorization:"Bearer ".concat(N)}});case 3:return t=e.sent,e.next=6,t.json();case 6:j(e.sent),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error fetching field officers:",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])})),function(){return e.apply(this,arguments)});t&&s()},[t,N]),(0,d.jsx)(i.Vq,{open:t,onOpenChange:function(){f(""),s()},children:(0,d.jsxs)(i.cZ,{children:[(0,d.jsxs)(i.fK,{children:[(0,d.jsx)(i.$N,{children:"Change Field Officer"}),(0,d.jsx)(i.Be,{children:"Select a field officer to assign to the selected customers."})]}),(0,d.jsx)("div",{className:"mt-4",children:(0,d.jsxs)(o.Ph,{value:h,onValueChange:f,children:[(0,d.jsx)(o.i4,{className:"w-full",children:(0,d.jsx)(o.ki,{placeholder:"Select a field officer"})}),(0,d.jsx)(o.Bw,{children:p.map(function(e){return(0,d.jsxs)(o.Ql,{value:e.id.toString(),children:[e.firstName," ",e.lastName]},e.id)})})]})}),(0,d.jsxs)(i.cN,{children:[(0,d.jsx)(i.GG,{asChild:!0,children:(0,d.jsx)(l.z,{variant:"outline",children:"Cancel"})}),(0,d.jsx)(l.z,{onClick:function(){r(h),s()},children:"Confirm"})]})]})})}},57443:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return R}});var n=s(27812),r=s(59499),a=s(16835),c=s(50029),i=s(64687),l=s.n(i),o=s(67294),u=s(82422),d=s(97945),m=s(88767),h=s(62469),f=s(72227),x=s(34174),p=s(5101),j=s(5411),N=s(74824),v=s(65440),y=s(87462),w={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 00-44.4 0L77.5 505a63.9 63.9 0 00-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0018.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"}}]},name:"home",theme:"outlined"},b=s(76888),g=o.forwardRef(function(e,t){return o.createElement(b.Z,(0,y.Z)({},e,{ref:t,icon:w}))}),C=s(96071),k=s(35843),O=s(2158),S=s(79804),P=s(45007),D=s(11163),V=s(85051),F=s(18190),T=s(25141);s(11627);var z=s(91936),E=s(85893);function Z(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function L(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(s),!0).forEach(function(t){(0,r.Z)(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Z(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}var A=new m.QueryClient;function R(){return(0,E.jsx)(m.QueryClientProvider,{client:A,children:(0,E.jsx)(I,{})})}function I(){var e,t,s=(0,D.useRouter)(),i=(0,o.useState)(["shopName","ownerName","city","state","phone","monthlySales","intentLevel","fieldOfficer","clientType","totalVisits","lastVisitDate","email"]),y=i[0],w=i[1],b=(0,o.useState)({storeName:"",primaryContact:"",ownerName:"",city:"",state:"",clientType:"",employeeName:""}),Z=b[0],A=b[1],R=(0,o.useState)({storeName:"",primaryContact:"",ownerName:"",city:"",state:"",clientType:"",employeeName:""}),I=R[0],_=R[1],B=(0,o.useState)(!1),M=B[0],U=B[1],W=(0,o.useState)(!1),q=W[0],H=W[1],$=(0,o.useState)([]),Q=$[0],G=$[1],X=(0,o.useState)(1),Y=X[0],K=X[1],J=(0,o.useState)(!1),ee=J[0],et=J[1],es=(0,o.useState)(!1),en=es[0],er=es[1],ea=(0,o.useState)(null),ec=ea[0],ei=ea[1],el=(0,o.useState)(!1),eo=el[0],eu=el[1],ed=(0,o.useState)("storeName"),em=ed[0],eh=ed[1],ef=(0,o.useState)("asc"),ex=ef[0],ep=ef[1],ej=(0,o.useState)(!1),eN=ej[0],ev=ej[1],ey=(0,o.useState)("Please wait, downloading..."),ew=ey[0],eb=ey[1],eg=(0,P.v9)(function(e){return e.auth.token}),eC=(0,P.v9)(function(e){return e.auth.employeeId}),ek=(0,P.v9)(function(e){return e.auth.role});(0,P.v9)(function(e){return e.auth.teamId});var eO=function(e){"ownerName"===e?eh("ownerFirstName"):"totalVisits"===e?eh("visitCount"):eh(e),ep(function(e){return"asc"===e?"desc":"asc"})},eS=(e=(0,c.Z)(l().mark(function e(t){var s,n,r,c,i,o,u,d,m,h;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.queryKey,(n=(0,a.Z)(s,2))[0],c=(r=n[1]).page,i=r.filters,o=r.sortColumn,u=r.sortDirection,d="https://api.gajkesaristeels.in/store/filteredValues",m=new URLSearchParams,Object.entries(i).forEach(function(e){var t=(0,a.Z)(e,2),s=t[0],n=t[1];n&&m.append(s,n.toString())}),m.append("page",(c-1).toString()),m.append("size","10"),"lastVisitDate"===o||"visitCount"===o?(m.append("sortBy",o),m.append("sortOrder",u)):m.append("sort","".concat(o,",").concat(u)),i.employeeName&&(d="https://api.gajkesaristeels.in/store/getByEmployeeWithSort",m.append("id",(null==eC?void 0:eC.toString())||""),m.append("sortBy",o),m.append("sortOrder",u)),e.next=11,fetch("".concat(d,"?").concat(m.toString()),{headers:{Authorization:"Bearer ".concat(eg)}});case 11:if((h=e.sent).ok){e.next=14;break}throw Error("Network response was not ok");case 14:return e.abrupt("return",h.json());case 15:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)}),eP=(0,m.useQuery)(["customers",{page:Y,filters:Z,sortColumn:em,sortDirection:ex}],eS),eD=eP.data,eV=(eP.isLoading,eP.isError,eP.error,eP.refetch),eF=(null==eD?void 0:eD.content)||[];null==eD||eD.totalElements;var eT=(null==eD?void 0:eD.totalPages)||1;(0,o.useEffect)(function(){eV()},[Z,Y,em,ex]);var ez=function(e){ei(e),er(!0)},eE=function(){ei(null),er(!1)},eZ=function(e,t){A(function(s){return L(L({},s),{},(0,r.Z)({},e,t))}),K(1)},eL=function(e,t){_(function(s){return L(L({},s),{},(0,r.Z)({},e,t))})},eA=function(e){A(function(t){return L(L({},t),{},(0,r.Z)({},e,""))}),K(1)},eR=function(e){G(function(t){return t.includes(e)?t.filter(function(t){return t!==e}):[].concat((0,n.Z)(t),[e])})},eI=(t=(0,c.Z)(l().mark(function e(){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!ec){e.next=11;break}return e.prev=1,e.next=4,fetch("https://api.gajkesaristeels.in/store/deleteById?id=".concat(ec),{method:"DELETE",headers:{Authorization:"Bearer ".concat(eg)}});case 4:e.sent.ok?(eV(),eE()):console.error("Failed to delete customer"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error deleting customer:",e.t0);case 11:case"end":return e.stop()}},e,null,[[1,8]])})),function(){return t.apply(this,arguments)}),e_=function(e){K(e)},eB=function(e){w(function(t){return t.includes(e)?t.filter(function(t){return t!==e}):[].concat((0,n.Z)(t),[e])})},eM=(0,o.useCallback)((0,c.Z)(l().mark(function e(){var t,s,n,r;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return ev(!0),eb("Please wait, downloading..."),e.prev=2,e.next=5,fetch("https://api.gajkesaristeels.in/store/export",{headers:{Authorization:"Bearer ".concat(eg)}});case 5:if((t=e.sent).ok){e.next=10;break}return console.error("Failed to fetch export data"),eb("Failed to download. Please try again."),e.abrupt("return");case 10:return e.next=12,t.text();case 12:s=new Blob([e.sent],{type:"text/csv;charset=utf-8;"}),void 0!==(n=document.createElement("a")).download&&(r=URL.createObjectURL(s),n.setAttribute("href",r),n.setAttribute("download","customers_export.csv"),n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n),eb("Download complete!")),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(2),console.error("Error exporting data:",e.t0),eb("Failed to download. Please try again.");case 22:return e.prev=22,setTimeout(function(){ev(!1),eb("Please wait, downloading...")},2e3),e.finish(22);case 25:case"end":return e.stop()}},e,null,[[2,18,22,25]])})),[eg]),eU=function(e,t,s,n){return(0,E.jsxs)("div",{className:"space-y-1",children:[(0,E.jsx)(T._,{htmlFor:e,className:"sr-only",children:t}),(0,E.jsxs)("div",{className:"relative",children:[(0,E.jsx)(F.I,{id:e,placeholder:t,value:n?I[e]:Z[e],onChange:function(t){return n?eL(e,t.target.value):eZ(e,t.target.value)},className:"pl-8 pr-8 h-9"}),(0,E.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-2 pointer-events-none text-gray-400",children:s}),!n&&Z[e]&&(0,E.jsx)("button",{onClick:function(){return eA(e)},className:"absolute inset-y-0 right-0 flex items-center pr-2 text-gray-400 hover:text-gray-600",children:(0,E.jsx)(v.q5L,{className:"h-4 w-4"})})]})]})};return(0,E.jsx)("div",{className:"container-customer mx-auto py-8 px-4 sm:px-6 lg:px-8",children:(0,E.jsxs)("div",{children:[(0,E.jsx)("h1",{className:"text-4xl font-bold mb-6",children:"Customer List"}),(0,E.jsx)("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:(0,E.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,E.jsx)(N.z,{variant:"outline",size:"sm",onClick:function(){eu(!0)},children:"Add Customer"}),(0,E.jsxs)(N.z,{variant:"outline",size:"sm",onClick:function(){return U(!M)},className:"hidden md:inline-flex",children:[(0,E.jsx)(v.Ihx,{className:"mr-2 h-4 w-4"}),M?"Hide Filters":"Show Filters"]}),(0,E.jsxs)(k.h_,{children:[(0,E.jsx)(k.$F,{asChild:!0,children:(0,E.jsxs)(N.z,{variant:"outline",size:"sm",children:[(0,E.jsx)(v.Dd2,{className:"mr-2 h-4 w-4"}),"Columns"]})}),(0,E.jsxs)(k.AW,{align:"end",className:"w-56",children:[(0,E.jsx)(k.Ju,{children:"Toggle columns"}),(0,E.jsx)(k.VD,{}),[{value:"shopName",label:"Shop Name"},{value:"ownerName",label:"Owner Name"},{value:"city",label:"City"},{value:"state",label:"State"},{value:"phone",label:"Phone"},{value:"monthlySales",label:"Monthly Sales"},{value:"intentLevel",label:"Intent Level"},{value:"fieldOfficer",label:"Field Officer"},{value:"clientType",label:"Client Type"},{value:"totalVisits",label:"Total Visits"},{value:"lastVisitDate",label:"Last Visit Date"},{value:"email",label:"Email"}].map(function(e){return(0,E.jsx)(k.bO,{checked:y.includes(e.value),onCheckedChange:function(){return eB(e.value)},children:(0,E.jsxs)("div",{className:"flex items-center justify-between w-full",children:[e.label,y.includes(e.value)&&(0,E.jsx)(z.Z,{className:"h-4 w-4"})]})},e.value)})]})]}),(0,E.jsx)(N.z,{variant:"outline",size:"sm",onClick:eM,disabled:eN,children:eN?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("svg",{className:"animate-spin h-4 w-4 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,E.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,E.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),ew]}):(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(v._hL,{className:"mr-2 h-4 w-4"}),"Export"]})}),(0,E.jsx)(N.z,{variant:"outline",size:"icon",onClick:function(){return H(!0)},className:"md:hidden",children:(0,E.jsx)(v.Ihx,{className:"h-4 w-4"})})]})}),M&&(0,E.jsx)(u.Zb,{className:"mb-6 hidden md:block",children:(0,E.jsx)(u.aY,{className:"p-4",children:(0,E.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[eU("storeName","Shop Name",(0,E.jsx)(v.fzv,{className:"h-4 w-4"}),!1),eU("ownerName","Owner Name",(0,E.jsx)(v.fzv,{className:"h-4 w-4"}),!1),eU("city","City",(0,E.jsx)(g,{className:"h-4 w-4"}),!1),eU("state","State",(0,E.jsx)(g,{className:"h-4 w-4"}),!1),eU("primaryContact","Phone",(0,E.jsx)(v.tUt,{className:"h-4 w-4"}),!1),eU("clientType","Client Type",(0,E.jsx)(v.xUG,{className:"h-4 w-4"}),!1),eU("employeeName","Field Officer",(0,E.jsx)(v.ggF,{className:"h-4 w-4"}),!1)]})})}),(0,E.jsx)(O.default,{isOpen:eo,onClose:function(){eu(!1)},token:eg||"",employeeId:eC?Number(eC):null}),"MANAGER"===ek&&(0,E.jsx)("div",{className:"mb-4",children:(0,E.jsx)("h2",{className:"text-xl font-semibold",children:"Team Customers"})}),(0,E.jsx)(V.yo,{open:q,onOpenChange:H,children:(0,E.jsxs)(V.ue,{children:[(0,E.jsx)(V.Tu,{children:(0,E.jsx)(V.bC,{children:"Customer Filters"})}),(0,E.jsxs)("div",{className:"py-4 space-y-4",children:[eU("storeName","Shop Name",(0,E.jsx)(v.fzv,{className:"h-4 w-4"}),!0),eU("ownerName","Owner Name",(0,E.jsx)(v.fzv,{className:"h-4 w-4"}),!0),eU("city","City",(0,E.jsx)(g,{className:"h-4 w-4"}),!0),eU("state","State",(0,E.jsx)(g,{className:"h-4 w-4"}),!0),eU("primaryContact","Phone",(0,E.jsx)(v.tUt,{className:"h-4 w-4"}),!0),eU("clientType","Client Type",(0,E.jsx)(v.xUG,{className:"h-4 w-4"}),!0),eU("employeeName","Field Officer",(0,E.jsx)(v.ggF,{className:"h-4 w-4"}),!0)]}),(0,E.jsx)(V.FF,{children:(0,E.jsx)(N.z,{onClick:function(){return H(!1)},children:"Apply Filters"})})]})}),(0,E.jsx)("div",{className:"md:hidden space-y-4",children:eF.map(function(e){var t,n,r;return(0,E.jsxs)(u.Zb,{className:"overflow-hidden",children:[(0,E.jsx)(u.Ol,{className:"pb-2",children:(0,E.jsxs)("div",{className:"flex items-center justify-between",children:[(0,E.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,E.jsxs)(p.qE,{children:[(0,E.jsx)(p.F$,{src:"https://source.boringavatars.com/beam/120/".concat(e.clientFirstName).concat(e.clientLastName,"?colors=264653,2a9d8f,e9c46a,f4a261,e76f51")}),(0,E.jsx)(p.Q5,{children:(n=e.clientFirstName,r=e.clientLastName,"".concat(n.charAt(0)).concat(r.charAt(0)).toUpperCase())})]}),(0,E.jsxs)("div",{children:[(0,E.jsx)(u.ll,{className:"text-lg",children:e.storeName}),(0,E.jsxs)("p",{className:"text-sm text-gray-500",children:[e.city,", ",e.state]})]})]}),(0,E.jsx)(d.C,{variant:e.clientType?"outline":"secondary",children:e.clientType||"N/A"})]})}),(0,E.jsxs)(u.aY,{className:"pt-2",children:[(0,E.jsxs)("div",{className:"flex items-center justify-between",children:[(0,E.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,E.jsx)(v.fzv,{className:"text-blue-500"}),(0,E.jsx)("span",{className:"font-medium",children:"Owner:"}),(0,E.jsxs)("span",{children:[e.clientFirstName," ",e.clientLastName]})]}),(0,E.jsx)(N.z,{variant:"ghost",size:"sm",onClick:function(){return eR(e.storeId)},children:Q.includes(e.storeId)?(0,E.jsx)(h.g8U,{className:"h-4 w-4"}):(0,E.jsx)(h.v4q,{className:"h-4 w-4"})})]}),Q.includes(e.storeId)&&(0,E.jsxs)("div",{className:"mt-4 space-y-3 text-sm",children:[(0,E.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,E.jsx)(v.tUt,{className:"text-green-500"}),(0,E.jsx)("span",{className:"font-medium",children:"Phone:"}),(0,E.jsx)("span",{children:e.primaryContact})]}),(0,E.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,E.jsx)(v.oQC,{className:"text-yellow-500"}),(0,E.jsx)("span",{className:"font-medium",children:"Monthly Sales:"}),(0,E.jsx)("span",{children:e.monthlySale?"".concat(e.monthlySale.toLocaleString()," tonnes"):"N/A"})]}),(0,E.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,E.jsx)(v.xUG,{className:"text-red-500"}),(0,E.jsx)("span",{className:"font-medium",children:"Intent:"}),(0,E.jsx)("span",{children:null!==(t=e.intent)&&void 0!==t?t:"N/A"})]}),(0,E.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,E.jsx)(v.ggF,{className:"text-purple-500"}),(0,E.jsx)("span",{className:"font-medium",children:"Field Officer:"}),(0,E.jsx)("span",{children:e.employeeName||"N/A"})]}),(0,E.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,E.jsx)(v.fzv,{className:"text-indigo-500"}),(0,E.jsx)("span",{className:"font-medium",children:"Total Visits:"}),(0,E.jsx)("span",{children:e.totalVisitCount})]})]}),(0,E.jsx)("div",{className:"mt-4 flex justify-end items-center",children:(0,E.jsxs)(k.h_,{children:[(0,E.jsx)(k.$F,{asChild:!0,children:(0,E.jsx)(N.z,{variant:"ghost",size:"sm",children:(0,E.jsx)(S.i0B,{className:"h-4 w-4"})})}),(0,E.jsxs)(k.AW,{align:"end",children:[(0,E.jsx)(k.Xi,{onSelect:function(){return s.push("/CustomerDetailPage/".concat(e.storeId))},children:"View"}),(0,E.jsx)(k.VD,{}),(0,E.jsx)(k.Xi,{onSelect:function(){return ez(e.storeId.toString())},children:"Delete"})]})]})})]})]},e.storeId)})}),(0,E.jsx)("div",{className:"hidden md:block",children:(0,E.jsxs)(C.iA,{className:"text-sm font-poppins",children:[(0,E.jsx)(C.xD,{children:(0,E.jsxs)(C.SC,{children:[y.includes("shopName")&&(0,E.jsxs)(C.ss,{className:"cursor-pointer",onClick:function(){return eO("storeName")},children:["Shop Name","storeName"===em&&(0,E.jsx)("span",{className:"text-black text-sm",children:"asc"===ex?" ▲":" ▼"})]}),y.includes("ownerName")&&(0,E.jsxs)(C.ss,{className:"cursor-pointer",onClick:function(){return eO("ownerName")},children:["Owner Name","ownerFirstName"===em&&(0,E.jsx)("span",{className:"text-black text-sm",children:"asc"===ex?" ▲":" ▼"})]}),y.includes("city")&&(0,E.jsxs)(C.ss,{className:"cursor-pointer",onClick:function(){return eO("city")},children:["City","city"===em&&(0,E.jsx)("span",{className:"text-black text-sm",children:"asc"===ex?" ▲":" ▼"})]}),y.includes("state")&&(0,E.jsxs)(C.ss,{className:"cursor-pointer",onClick:function(){return eO("state")},children:["State","state"===em&&(0,E.jsx)("span",{className:"text-black text-sm",children:"asc"===ex?" ▲":" ▼"})]}),y.includes("phone")&&(0,E.jsxs)(C.ss,{className:"cursor-pointer",onClick:function(){return eO("primaryContact")},children:["Phone","primaryContact"===em&&(0,E.jsx)("span",{className:"text-black text-sm",children:"asc"===ex?" ▲":" ▼"})]}),y.includes("monthlySales")&&(0,E.jsxs)(C.ss,{className:"cursor-pointer",onClick:function(){return eO("monthlySale")},children:["Monthly Sales","monthlySale"===em&&(0,E.jsx)("span",{className:"text-black text-sm",children:"asc"===ex?" ▲":" ▼"})]}),y.includes("intentLevel")&&(0,E.jsxs)(C.ss,{className:"cursor-pointer",onClick:function(){return eO("intent")},children:["Intent Level","intent"===em&&(0,E.jsx)("span",{className:"text-black text-sm",children:"asc"===ex?" ▲":" ▼"})]}),y.includes("fieldOfficer")&&(0,E.jsxs)(C.ss,{className:"cursor-pointer",onClick:function(){return eO("employeeName")},children:["Field Officer","employeeName"===em&&(0,E.jsx)("span",{className:"text-black text-sm",children:"asc"===ex?" ▲":" ▼"})]}),y.includes("clientType")&&(0,E.jsxs)(C.ss,{className:"cursor-pointer",onClick:function(){return eO("clientType")},children:["Client Type","clientType"===em&&(0,E.jsx)("span",{className:"text-black text-sm",children:"asc"===ex?" ▲":" ▼"})]}),y.includes("totalVisits")&&(0,E.jsxs)(C.ss,{className:"cursor-pointer",onClick:function(){return eO("totalVisits")},children:["Total Visits","visitCount"===em&&(0,E.jsx)("span",{className:"text-black text-sm",children:"asc"===ex?" ▲":" ▼"})]}),y.includes("lastVisitDate")&&(0,E.jsxs)(C.ss,{className:"cursor-pointer",onClick:function(){return eO("lastVisitDate")},children:["Last Visit Date","lastVisitDate"===em&&(0,E.jsx)("span",{className:"text-black text-sm",children:"asc"===ex?" ▲":" ▼"})]}),y.includes("email")&&(0,E.jsxs)(C.ss,{className:"cursor-pointer",onClick:function(){return eO("email")},children:["Email","email"===em&&(0,E.jsx)("span",{className:"text-black text-sm",children:"asc"===ex?" ▲":" ▼"})]}),(0,E.jsx)(C.ss,{className:"w-20",children:"Actions"})]})}),(0,E.jsx)(C.RM,{children:eF.map(function(e){return(0,E.jsxs)(C.SC,{children:[y.includes("shopName")&&(0,E.jsx)(C.pj,{children:e.storeName||""}),y.includes("ownerName")&&(0,E.jsx)(C.pj,{children:e.clientFirstName||e.clientLastName?"".concat(e.clientFirstName||""," ").concat(e.clientLastName||"").trim():""}),y.includes("city")&&(0,E.jsx)(C.pj,{children:e.city||""}),y.includes("state")&&(0,E.jsx)(C.pj,{children:e.state||""}),y.includes("phone")&&(0,E.jsx)(C.pj,{children:e.primaryContact||""}),y.includes("monthlySales")&&(0,E.jsx)(C.pj,{children:null!==e.monthlySale&&void 0!==e.monthlySale?"".concat(e.monthlySale.toLocaleString()," tonnes"):""}),y.includes("intentLevel")&&(0,E.jsx)(C.pj,{children:null!==e.intent&&void 0!==e.intent?e.intent:""}),y.includes("fieldOfficer")&&(0,E.jsx)(C.pj,{children:e.employeeName||""}),y.includes("clientType")&&(0,E.jsx)(C.pj,{children:(0,E.jsx)(d.C,{variant:"outline",children:e.clientType||""})}),y.includes("totalVisits")&&(0,E.jsx)(C.pj,{children:e.totalVisitCount}),y.includes("lastVisitDate")&&(0,E.jsx)(C.pj,{children:e.lastVisitDate?new Date(e.lastVisitDate).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}):""}),y.includes("email")&&(0,E.jsx)(C.pj,{children:e.email||""}),(0,E.jsx)(C.pj,{className:"w-20",children:(0,E.jsxs)(k.h_,{children:[(0,E.jsx)(k.$F,{asChild:!0,children:(0,E.jsx)(N.z,{variant:"ghost",size:"sm",children:(0,E.jsx)(S.i0B,{className:"h-4 w-4"})})}),(0,E.jsxs)(k.AW,{align:"end",children:[(0,E.jsx)(k.Xi,{onSelect:function(){return s.push("/CustomerDetailPage/".concat(e.storeId))},children:"View"}),(0,E.jsx)(k.VD,{}),(0,E.jsx)(k.Xi,{onSelect:function(){return ez(e.storeId.toString())},children:"Delete"})]})]})})]},e.storeId)})})]})}),function(){var e=[],t=Math.max(Y-Math.floor(2.5),1),s=t+5-1;s>eT&&(t=Math.max((s=eT)-5+1,1));for(var n=t;n<=s;n++)e.push(n);return(0,E.jsx)(j.tl,{children:(0,E.jsxs)(j.ng,{children:[1!==Y&&(0,E.jsx)(j.dN,{onClick:function(){return e_(Y-1)}}),t>1&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(j.nt,{children:(0,E.jsx)(j.kN,{onClick:function(){return e_(1)},children:"1"})}),t>2&&(0,E.jsx)(j.nt,{children:(0,E.jsx)(j.kN,{children:"..."})})]}),e.map(function(e){return(0,E.jsx)(j.nt,{children:(0,E.jsx)(j.kN,{isActive:e===Y,onClick:function(){return e_(e)},children:e})},e)}),s<eT&&(0,E.jsxs)(E.Fragment,{children:[s<eT-1&&(0,E.jsx)(j.nt,{children:(0,E.jsx)(j.kN,{children:"..."})}),(0,E.jsx)(j.nt,{children:(0,E.jsx)(j.kN,{onClick:function(){return e_(eT)},children:eT})})]}),Y!==eT&&(0,E.jsx)(j.$0,{onClick:function(){return e_(Y+1)}})]})})}(),(0,E.jsx)(f.default,{isOpen:en,onClose:eE,onConfirm:eI}),(0,E.jsx)(x.default,{isOpen:ee,onClose:function(){return et(!1)},onConfirm:function(e){console.log("Changing field officer to:",e),et(!1)}})]})})}},72227:function(e,t,s){"use strict";s.r(t);var n=s(74824),r=s(33526),a=s(85893);t.default=function(e){var t=e.isOpen,s=e.onClose,c=e.onConfirm;return(0,a.jsx)(r.Vq,{open:t,onOpenChange:s,children:(0,a.jsxs)(r.cZ,{children:[(0,a.jsxs)(r.fK,{children:[(0,a.jsx)(r.$N,{children:"Confirm Delete"}),(0,a.jsx)(r.Be,{children:"Are you sure you want to delete this customer?"})]}),(0,a.jsxs)(r.cN,{children:[(0,a.jsx)(n.z,{variant:"outline",onClick:s,children:"Cancel"}),(0,a.jsx)(n.z,{variant:"destructive",onClick:c,children:"Delete"})]})]})})}},21664:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/CustomerListPage",function(){return s(57443)}])},11627:function(){},10952:function(e,t,s){"use strict";s.d(t,{Ee:function(){return y},NY:function(){return w},fC:function(){return v}});var n=s(67294),r=s(25360),a=s(79698),c=s(9981),i=s(75320),l=s(85893),o="Avatar",[u,d]=(0,r.b)(o),[m,h]=u(o),f=n.forwardRef((e,t)=>{let{__scopeAvatar:s,...r}=e,[a,c]=n.useState("idle");return(0,l.jsx)(m,{scope:s,imageLoadingStatus:a,onImageLoadingStatusChange:c,children:(0,l.jsx)(i.WV.span,{...r,ref:t})})});f.displayName=o;var x="AvatarImage",p=n.forwardRef((e,t)=>{let{__scopeAvatar:s,src:r,onLoadingStatusChange:o=()=>{},...u}=e,d=h(x,s),m=function(e){let[t,s]=n.useState("idle");return(0,c.b)(()=>{if(!e){s("error");return}let t=!0,n=new window.Image,r=e=>()=>{t&&s(e)};return s("loading"),n.onload=r("loaded"),n.onerror=r("error"),n.src=e,()=>{t=!1}},[e]),t}(r),f=(0,a.W)(e=>{o(e),d.onImageLoadingStatusChange(e)});return(0,c.b)(()=>{"idle"!==m&&f(m)},[m,f]),"loaded"===m?(0,l.jsx)(i.WV.img,{...u,ref:t,src:r}):null});p.displayName=x;var j="AvatarFallback",N=n.forwardRef((e,t)=>{let{__scopeAvatar:s,delayMs:r,...a}=e,c=h(j,s),[o,u]=n.useState(void 0===r);return n.useEffect(()=>{if(void 0!==r){let e=window.setTimeout(()=>u(!0),r);return()=>window.clearTimeout(e)}},[r]),o&&"loaded"!==c.imageLoadingStatus?(0,l.jsx)(i.WV.span,{...a,ref:t}):null});N.displayName=j;var v=f,y=p,w=N}},function(e){e.O(0,[594,9545,6066,2116,7152,8776,6438,2158,2888,9774,179],function(){return e(e.s=21664)}),_N_E=e.O()}]);