"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5139],{23245:function(e,r,t){t.d(r,{Z:function(){return n}});/**
 * @license lucide-react v0.350.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var n=(0,t(53526).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},74824:function(e,r,t){t.d(r,{d:function(){return f},z:function(){return p}});var n=t(59499),a=t(4730),s=t(67294),c=t(88426),o=t(45139),i=t(82359),l=t(85893),d=["className","variant","size","asChild"];function u(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}var f=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),p=s.forwardRef(function(e,r){var t=e.className,s=e.variant,o=e.size,p=e.asChild,m=(0,a.Z)(e,d),b=void 0!==p&&p?c.g7:"button";return(0,l.jsx)(b,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?u(Object(t),!0).forEach(function(r){(0,n.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}({className:(0,i.cn)(f({variant:s,size:o,className:t})),ref:r},m))});p.displayName="Button"},82422:function(e,r,t){t.d(r,{Ol:function(){return v},SZ:function(){return j},Zb:function(){return h},aY:function(){return g},eW:function(){return y},ll:function(){return x}});var n=t(59499),a=t(4730),s=t(67294),c=t(82359),o=t(85893),i=["className"],l=["className"],d=["className"],u=["className"],f=["className"],p=["className"];function m(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function b(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?m(Object(t),!0).forEach(function(r){(0,n.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var h=s.forwardRef(function(e,r){var t=e.className,n=(0,a.Z)(e,i);return(0,o.jsx)("div",b({ref:r,className:(0,c.cn)("rounded-xl border bg-card text-card-foreground shadow",t)},n))});h.displayName="Card";var v=s.forwardRef(function(e,r){var t=e.className,n=(0,a.Z)(e,l);return(0,o.jsx)("div",b({ref:r,className:(0,c.cn)("flex flex-col space-y-1.5 p-6",t)},n))});v.displayName="CardHeader";var x=s.forwardRef(function(e,r){var t=e.className,n=(0,a.Z)(e,d);return(0,o.jsx)("h3",b({ref:r,className:(0,c.cn)("font-semibold leading-none tracking-tight",t)},n))});x.displayName="CardTitle";var j=s.forwardRef(function(e,r){var t=e.className,n=(0,a.Z)(e,u);return(0,o.jsx)("p",b({ref:r,className:(0,c.cn)("text-sm text-muted-foreground",t)},n))});j.displayName="CardDescription";var g=s.forwardRef(function(e,r){var t=e.className,n=(0,a.Z)(e,f);return(0,o.jsx)("div",b({ref:r,className:(0,c.cn)("p-6 pt-0",t)},n))});g.displayName="CardContent";var y=s.forwardRef(function(e,r){var t=e.className,n=(0,a.Z)(e,p);return(0,o.jsx)("div",b({ref:r,className:(0,c.cn)("flex items-center p-6 pt-0",t)},n))});y.displayName="CardFooter"},18190:function(e,r,t){t.d(r,{I:function(){return d}});var n=t(59499),a=t(4730),s=t(67294),c=t(82359),o=t(85893),i=["className","type"];function l(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}var d=s.forwardRef(function(e,r){var t=e.className,s=e.type,d=(0,a.Z)(e,i);return(0,o.jsx)("input",function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?l(Object(t),!0).forEach(function(r){(0,n.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}({type:s,className:(0,c.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:r},d))});d.displayName="Input"},25139:function(e,r,t){t.r(r),t.d(r,{default:function(){return N}});var n=t(27812),a=t(59499),s=t(50029),c=t(64687),o=t.n(c),i=t(67294),l=t(82422),d=t(18190),u=t(25141),f=t(74824),p=t(53526),m=(0,p.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),b=t(23245),h=(0,p.Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),v=(0,p.Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]),x=(0,p.Z)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),j=t(85893);function g(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function y(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?g(Object(t),!0).forEach(function(r){(0,a.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function N(e){var r,t,c,p=e.brands,g=e.setBrands,N=e.visitId,O=e.token;e.fetchVisitDetail;var w=(0,i.useState)(!1),k=w[0],P=w[1],C=(0,i.useState)(!1),Z=C[0],z=C[1],E=(0,i.useState)({brandName:"",pros:[],cons:[]}),D=E[0],S=E[1],T=(0,i.useState)(null),B=T[0],I=T[1],A=(0,i.useCallback)((0,s.Z)(o().mark(function e(){var r,t;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.gajkesaristeels.in/visit/getProCons?visitId=".concat(N),{headers:{Authorization:"Bearer ".concat(O)}});case 3:return r=e.sent,e.next=6,r.json();case 6:g((null==(t=e.sent)?void 0:t.map(function(e){return{id:e.id,brandName:e.brandName,pros:e.pros,cons:e.cons}}))||[]),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error fetching brands:",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])})),[O,N,g]);(0,i.useEffect)(function(){N&&A()},[N,A]);var M=function(e){D[e].length<3&&S(y(y({},D),{},(0,a.Z)({},e,[].concat((0,n.Z)(D[e]),[""]))))},R=function(e,r,t){var s=(0,n.Z)(D[e]);s[r]=t,S(y(y({},D),{},(0,a.Z)({},e,s)))},_=(r=(0,s.Z)(o().mark(function e(){var r,t;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(""!==D.brandName.trim())){e.next=12;break}return r={brandName:D.brandName,pros:D.pros.filter(function(e){return""!==e.trim()}),cons:D.cons.filter(function(e){return""!==e.trim()})},e.prev=2,e.next=5,fetch("https://api.gajkesaristeels.in/visit/addProCons?visitId=".concat(N),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(O)},body:JSON.stringify([].concat((0,n.Z)(p),[r]))});case 5:(t=e.sent).ok?(g([].concat((0,n.Z)(p),[y(y({},r),{},{id:new Date().getTime()})])),S({brandName:"",pros:[],cons:[]}),P(!1)):console.error("Error adding brand:",t.statusText),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error adding brand:",e.t0);case 12:case"end":return e.stop()}},e,null,[[2,9]])})),function(){return r.apply(this,arguments)}),V=function(e){z(!0),I(e);var r=p.find(function(r){return r.id===e});r?S({brandName:r.brandName,pros:r.pros,cons:r.cons}):console.error("Brand not found")},q=(t=(0,s.Z)(o().mark(function e(){var r,t;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(""!==D.brandName.trim())){e.next=12;break}return r=p.map(function(e){return e.id===B?y(y({},e),{},{brandName:D.brandName,pros:D.pros.filter(function(e){return""!==e.trim()}),cons:D.cons.filter(function(e){return""!==e.trim()})}):e}),e.prev=2,e.next=5,fetch("https://api.gajkesaristeels.in/visit/addProCons?visitId=".concat(N),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(O)},body:JSON.stringify(r.map(function(e){return{brandName:e.brandName,pros:e.pros,cons:e.cons}}))});case 5:(t=e.sent).ok?(g(r),S({brandName:"",pros:[],cons:[]}),z(!1),I(null)):console.error("Error updating brand:",t.statusText),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error updating brand:",e.t0);case 12:case"end":return e.stop()}},e,null,[[2,9]])})),function(){return t.apply(this,arguments)}),H=(c=(0,s.Z)(o().mark(function e(r){var t,n,a;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=p.find(function(e){return e.id===r}),n=p.filter(function(e){return e.id!==r}),!t){e.next=13;break}return e.prev=3,e.next=6,fetch("https://api.gajkesaristeels.in/visit/deleteProCons?visitId=".concat(N),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(O)},body:JSON.stringify([{brandName:t.brandName}])});case 6:(a=e.sent).ok?(g(n),console.log("Pros Cons Deleted Successfully!")):console.error("Error deleting brand:",a.statusText),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.error("Error deleting brand:",e.t0);case 13:case"end":return e.stop()}},e,null,[[3,10]])})),function(e){return c.apply(this,arguments)});return(0,j.jsxs)("div",{className:"w-full",children:[!k&&!Z&&p&&0===p.length&&(0,j.jsxs)("div",{className:"text-center",children:[(0,j.jsx)("p",{className:"text-gray-500",children:"No brands available."}),(0,j.jsxs)(f.z,{onClick:function(){return P(!0)},className:"mt-4",children:[(0,j.jsx)(m,{className:"mr-2"}),"Add Brand"]})]}),(k||Z)&&(0,j.jsx)(l.Zb,{className:"w-full mb-4 p-4",children:(0,j.jsxs)(l.aY,{children:[(0,j.jsxs)("div",{className:"mb-4",children:[(0,j.jsx)(u._,{children:"Brand Name"}),(0,j.jsx)(d.I,{name:"brandName",value:D.brandName,onChange:function(e){S(y(y({},D),{},(0,a.Z)({},e.target.name,e.target.value)))},placeholder:"Enter brand name"})]}),(0,j.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)(u._,{children:"Pros"}),D.pros.map(function(e,r){return(0,j.jsx)(d.I,{value:e,onChange:function(e){return R("pros",r,e.target.value)},placeholder:"Pro ".concat(r+1),className:"mb-2"},r)}),D.pros.length<3&&(0,j.jsxs)(f.z,{onClick:function(){return M("pros")},variant:"outline",size:"sm",className:"w-full",children:[(0,j.jsx)(m,{className:"mr-2"}),"Add Pro"]})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(u._,{children:"Cons"}),D.cons.map(function(e,r){return(0,j.jsx)(d.I,{value:e,onChange:function(e){return R("cons",r,e.target.value)},placeholder:"Con ".concat(r+1),className:"mb-2"},r)}),D.cons.length<3&&(0,j.jsxs)(f.z,{onClick:function(){return M("cons")},variant:"outline",size:"sm",className:"w-full",children:[(0,j.jsx)(m,{className:"mr-2"}),"Add Con"]})]})]}),(0,j.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,j.jsx)(f.z,{onClick:Z?q:_,variant:"default",children:Z?"Update":"Add"}),(0,j.jsx)(f.z,{onClick:function(){P(!1),z(!1),I(null),S({brandName:"",pros:[],cons:[]})},variant:"outline",children:"Cancel"})]})]})}),p.length>0&&(0,j.jsx)("div",{className:"mt-8 grid grid-cols-1 gap-4",children:p.map(function(e){return(0,j.jsx)(l.Zb,{className:"w-full p-4 bg-white rounded-lg shadow-md flex justify-between items-center",children:(0,j.jsx)(l.aY,{className:"w-full",children:(0,j.jsxs)("div",{className:"flex justify-between items-center",children:[(0,j.jsxs)("div",{className:"flex flex-col",children:[(0,j.jsx)("div",{className:"font-bold text-lg",style:{color:"#3490dc"},children:e.brandName}),(0,j.jsxs)("div",{className:"flex items-center mt-2",children:[(0,j.jsxs)("div",{className:"mr-4",children:[(0,j.jsxs)("div",{className:"font-semibold mb-1 flex items-center",children:[(0,j.jsx)(b.Z,{className:"text-green-500 mr-1"}),"Pros"]}),(0,j.jsx)("ul",{className:"text-gray-600 text-sm list-disc pl-4",children:e.pros.map(function(e,r){return(0,j.jsx)("li",{children:e},r)})})]}),(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:"font-semibold mb-1 flex items-center",children:[(0,j.jsx)(h,{className:"text-red-500 mr-1"}),"Cons"]}),(0,j.jsx)("ul",{className:"text-gray-600 text-sm list-disc pl-4",children:e.cons.map(function(e,r){return(0,j.jsx)("li",{children:e},r)})})]})]})]}),(0,j.jsxs)("div",{className:"flex space-x-2",children:[(0,j.jsx)(f.z,{onClick:function(){return V(e.id)},variant:"ghost",size:"sm",children:(0,j.jsx)(v,{className:"text-gray-500"})}),(0,j.jsx)(f.z,{onClick:function(){return H(e.id)},variant:"ghost",size:"sm",children:(0,j.jsx)(x,{className:"text-red-500"})})]})]})})},e.id)})}),!k&&!Z&&(0,j.jsxs)(f.z,{onClick:function(){return P(!0)},className:"mt-4",children:[(0,j.jsx)(m,{className:"mr-2"}),"Add Brand"]})]})}}}]);