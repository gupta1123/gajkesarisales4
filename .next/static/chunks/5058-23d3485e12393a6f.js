(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5058],{5101:function(e,a,t){"use strict";t.d(a,{F$:function(){return h},Q5:function(){return y},qE:function(){return m}});var r=t(59499),n=t(4730),s=t(67294),l=t(10952),c=t(82359),i=t(85893),o=["className"],d=["className"],u=["className"];function p(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,r)}return t}function f(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?p(Object(t),!0).forEach(function(a){(0,r.Z)(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}var m=s.forwardRef(function(e,a){var t=e.className,r=(0,n.Z)(e,o);return(0,i.jsx)(l.fC,f({ref:a,className:(0,c.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t)},r))});m.displayName=l.fC.displayName;var h=s.forwardRef(function(e,a){var t=e.className,r=(0,n.Z)(e,d);return(0,i.jsx)(l.Ee,f({ref:a,className:(0,c.cn)("aspect-square h-full w-full",t)},r))});h.displayName=l.Ee.displayName;var y=s.forwardRef(function(e,a){var t=e.className,r=(0,n.Z)(e,u);return(0,i.jsx)(l.NY,f({ref:a,className:(0,c.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",t)},r))});y.displayName=l.NY.displayName},5411:function(e,a,t){"use strict";t.d(a,{$0:function(){return _},Dj:function(){return O},dN:function(){return w},kN:function(){return g},ng:function(){return N},nt:function(){return b},tl:function(){return x}});var r=t(59499),n=t(4730),s=t(67294),l=t(62469),c=t(82359),i=t(74824),o=t(85893),d=["className"],u=["className"],p=["className"],f=["className","isActive","size"],m=["className"],h=["className"],y=["className"];function v(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,r)}return t}function j(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?v(Object(t),!0).forEach(function(a){(0,r.Z)(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}var x=function(e){var a=e.className,t=(0,n.Z)(e,d);return(0,o.jsx)("nav",j({role:"navigation","aria-label":"pagination",className:(0,c.cn)("mx-auto flex w-full justify-center",a)},t))};x.displayName="Pagination";var N=s.forwardRef(function(e,a){var t=e.className,r=(0,n.Z)(e,u);return(0,o.jsx)("ul",j({ref:a,className:(0,c.cn)("flex flex-row items-center gap-1",t)},r))});N.displayName="PaginationContent";var b=s.forwardRef(function(e,a){var t=e.className,r=(0,n.Z)(e,p);return(0,o.jsx)("li",j({ref:a,className:(0,c.cn)("",t)},r))});b.displayName="PaginationItem";var g=function(e){var a=e.className,t=e.isActive,r=e.size,s=(0,n.Z)(e,f);return(0,o.jsx)("a",j({"aria-current":t?"page":void 0,className:(0,c.cn)((0,i.d)({variant:t?"outline":"ghost",size:void 0===r?"icon":r}),a)},s))};g.displayName="PaginationLink";var w=function(e){var a=e.className,t=(0,n.Z)(e,m);return(0,o.jsxs)(g,j(j({"aria-label":"Go to previous page",size:"default",className:(0,c.cn)("gap-1 pl-2.5",a)},t),{},{children:[(0,o.jsx)(l.wyc,{className:"h-4 w-4"}),(0,o.jsx)("span",{children:"Previous"})]}))};w.displayName="PaginationPrevious";var _=function(e){var a=e.className,t=(0,n.Z)(e,h);return(0,o.jsxs)(g,j(j({"aria-label":"Go to next page",size:"default",className:(0,c.cn)("gap-1 pr-2.5",a)},t),{},{children:[(0,o.jsx)("span",{children:"Next"}),(0,o.jsx)(l.XCv,{className:"h-4 w-4"})]}))};_.displayName="PaginationNext";var O=function(e){var a=e.className,t=(0,n.Z)(e,y);return(0,o.jsxs)("span",j(j({"aria-hidden":!0,className:(0,c.cn)("flex h-9 w-9 items-center justify-center",a)},t),{},{children:[(0,o.jsx)(l.nWS,{className:"h-4 w-4"}),(0,o.jsx)("span",{className:"sr-only",children:"More pages"})]}))};O.displayName="PaginationEllipsis"},14031:function(e,a,t){"use strict";t.d(a,{Bw:function(){return _},Ph:function(){return x},Ql:function(){return O},i4:function(){return b},ki:function(){return N}});var r=t(59499),n=t(4730),s=t(67294),l=t(62469),c=t(72116),i=t(82359),o=t(85893),d=["className","children"],u=["className"],p=["className"],f=["className","children","position"],m=["className"],h=["className","children"],y=["className"];function v(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,r)}return t}function j(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?v(Object(t),!0).forEach(function(a){(0,r.Z)(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}var x=c.fC;c.ZA;var N=c.B4,b=s.forwardRef(function(e,a){var t=e.className,r=e.children,s=(0,n.Z)(e,d);return(0,o.jsxs)(c.xz,j(j({ref:a,className:(0,i.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t)},s),{},{children:[r,(0,o.jsx)(c.JO,{asChild:!0,children:(0,o.jsx)(l.jnn,{className:"h-4 w-4 opacity-50"})})]}))});b.displayName=c.xz.displayName;var g=s.forwardRef(function(e,a){var t=e.className,r=(0,n.Z)(e,u);return(0,o.jsx)(c.u_,j(j({ref:a,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",t)},r),{},{children:(0,o.jsx)(l.g8U,{})}))});g.displayName=c.u_.displayName;var w=s.forwardRef(function(e,a){var t=e.className,r=(0,n.Z)(e,p);return(0,o.jsx)(c.$G,j(j({ref:a,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",t)},r),{},{children:(0,o.jsx)(l.v4q,{})}))});w.displayName=c.$G.displayName;var _=s.forwardRef(function(e,a){var t=e.className,r=e.children,s=e.position,l=void 0===s?"popper":s,d=(0,n.Z)(e,f);return(0,o.jsx)(c.h_,{children:(0,o.jsxs)(c.VY,j(j({ref:a,className:(0,i.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:l},d),{},{children:[(0,o.jsx)(g,{}),(0,o.jsx)(c.l_,{className:(0,i.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,o.jsx)(w,{})]}))})});_.displayName=c.VY.displayName,s.forwardRef(function(e,a){var t=e.className,r=(0,n.Z)(e,m);return(0,o.jsx)(c.__,j({ref:a,className:(0,i.cn)("px-2 py-1.5 text-sm font-semibold",t)},r))}).displayName=c.__.displayName;var O=s.forwardRef(function(e,a){var t=e.className,r=e.children,s=(0,n.Z)(e,h);return(0,o.jsxs)(c.ck,j(j({ref:a,className:(0,i.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t)},s),{},{children:[(0,o.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,o.jsx)(c.wU,{children:(0,o.jsx)(l.nQG,{className:"h-4 w-4"})})}),(0,o.jsx)(c.eT,{children:r})]}))});O.displayName=c.ck.displayName,s.forwardRef(function(e,a){var t=e.className,r=(0,n.Z)(e,y);return(0,o.jsx)(c.Z0,j({ref:a,className:(0,i.cn)("-mx-1 my-1 h-px bg-muted",t)},r))}).displayName=c.Z0.displayName},16044:function(e,a,t){"use strict";t.d(a,{_v:function(){return m},aJ:function(){return f},pn:function(){return u},u:function(){return p}});var r=t(59499),n=t(4730),s=t(67294),l=t(66908),c=t(82359),i=t(85893),o=["className","sideOffset"];function d(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,r)}return t}var u=l.zt,p=l.fC,f=l.xz,m=s.forwardRef(function(e,a){var t=e.className,s=e.sideOffset,u=(0,n.Z)(e,o);return(0,i.jsx)(l.VY,function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?d(Object(t),!0).forEach(function(a){(0,r.Z)(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}({ref:a,sideOffset:void 0===s?4:s,className:(0,c.cn)("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t)},u))});m.displayName=l.VY.displayName},5058:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return P}});var r=t(27812),n=t(59499),s=t(50029),l=t(64687),c=t.n(l),i=t(67294),o=t(14031),d=t(5411),u=t(62469),p=t(16044),f=t(74824),m=t(82422),h=t(5101),y=t(334),v=y.fC,j=y.wy,x=y.Fw,N=t(87066),b=t(7724),g=t(49874),w=t(35879),_=t(26882),O=t(40371),k=t.n(O),D=t(85893);function S(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,r)}return t}function C(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?S(Object(t),!0).forEach(function(a){(0,n.Z)(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):S(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}var P=function(e){var a,t,l,y,O=e.authToken,S=new Date().getFullYear(),P=(new Date().getMonth()+1).toString().padStart(2,"0"),Z=(0,i.useState)(S.toString()),E=Z[0],I=Z[1],B=(0,i.useState)(P),A=B[0],F=B[1],M=(0,i.useState)("All Field Officers"),z=M[0],L=M[1],T=(0,i.useState)([]),R=T[0],V=T[1],Y=(0,i.useState)(!0),W=Y[0],U=Y[1],Q=(0,i.useState)(1),G=Q[0],q=Q[1],J=(0,i.useState)({}),K=J[0],H=J[1],X=(0,i.useState)(null),$=X[0],ee=X[1],ea=(0,i.useState)({}),et=ea[0],er=ea[1],en=(0,i.useState)({}),es=en[0],el=en[1],ec=(0,i.useState)(!0);ec[0],ec[1];var ei=Array.from({length:5},function(e,a){var t=S-2+a;return{value:t.toString(),label:t.toString()}}),eo=(0,i.useState)(window.innerWidth<=768),ed=eo[0],eu=eo[1];(0,i.useEffect)(function(){var e=function(){eu(window.innerWidth<=768)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[]);var ep=(0,i.useCallback)((0,s.Z)(c().mark(function e(){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.Z.get("https://api.gajkesaristeels.in/employee/getAll",{headers:{Authorization:"Bearer ".concat(O)}});case 3:el(e.sent.data.reduce(function(e,a){return e[a.id]=a,e},{})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching employee data:",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])})),[O]),ef=(0,i.useCallback)((0,s.Z)(c().mark(function e(){var a,t,r,n;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(E&&A)){e.next=13;break}return a=new Date,t=Number(E)===a.getFullYear()&&Number(A)===a.getMonth()+1?a.getDate()-1:ey(Number(E),Number(A)),e.next=7,fetch("https://api.gajkesaristeels.in/attendance-log/getForRange?start=".concat(E,"-").concat(A,"-01&end=").concat(E,"-").concat(A,"-").concat(t.toString().padStart(2,"0")),{headers:{Authorization:"Bearer ".concat(O)}});case 7:return r=e.sent,e.next=10,r.json();case 10:V(n=e.sent),U(n.length>0);case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),console.error("Error fetching data:",e.t0),U(!1);case 19:case"end":return e.stop()}},e,null,[[0,15]])})),[E,A,O]),em=(0,i.useCallback)((a=(0,s.Z)(c().mark(function e(a){var t,r;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.gajkesaristeels.in/travel-allowance/getForEmployeeAndDate?employeeId=".concat(a,"&start=").concat(E,"-").concat(A,"-01&end=").concat(E,"-").concat(A,"-").concat(ey(Number(E),Number(A)).toString().padStart(2,"0")),{headers:{Authorization:"Bearer ".concat(O)}});case 3:return t=e.sent,e.next=6,t.json();case 6:r=e.sent,H(function(e){return C(C({},e),{},(0,n.Z)({},a,r))}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error fetching travel allowance data:",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])})),function(e){return a.apply(this,arguments)}),[E,A,O]);(0,i.useEffect)(function(){ep()},[ep]),(0,i.useEffect)(function(){E&&A&&ef()},[E,A,ef]),(0,i.useEffect)(function(){R.forEach(function(e){em(e.employeeId)})},[R,em]),(0,i.useEffect)(function(){eh()},[]);var eh=(t=(0,s.Z)(c().mark(function e(){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.Z.post("https://account.olamaps.io/realms/olamaps/protocol/openid-connect/token",new URLSearchParams({grant_type:"client_credentials",scope:"openid",client_id:"7ba2810b-f481-4e31-a0c6-d436b0c7c1eb",client_secret:"klymi04gaquWCnpa57hBEpMXR7YPhkLD"}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 3:ee(e.sent.data.access_token),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error getting access token:",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(){return t.apply(this,arguments)}),ey=function(e,a){return new Date(e,a,0).getDate()},ev=function(e,a,t){return Math.round(e/t*a)},ej=function(e,a,t,r){return Math.round(e*t)+Math.round(a*r)},ex=function(e,a,t){var r,n=new Date,s=n.getFullYear(),l=n.getMonth()+1,c=n.getDate(),i=a===s&&t===l?c-1:ey(a,t),o=ey(a,t),d=Math.min(e.fullDays+.5*e.halfDays,i),u=ev(e.salary||0,d,o),p=ej(e.distanceTravelledByCar||0,e.distanceTravelledByBike||0,e.pricePerKmCar||0,e.pricePerKmBike||0),f=(es[e.employeeId]||{}).dearnessAllowance||0;return Math.round(u+p+Math.min(f*e.fullDays+f/2*e.halfDays,f*i)+((null===(r=e.statsDto)||void 0===r?void 0:r.approvedExpense)||0))},eN=function(e){var a=K[e];return a?a.dateDetails.filter(function(e){return e.checkoutCount>0&&0===e.totalDistanceTravelled}).length:0},eb=(l=(0,s.Z)(c().mark(function e(a){var t,r;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if($){e.next=3;break}return console.error("Access token not available"),e.abrupt("return");case 3:if(er(function(e){return C(C({},e),{},(0,n.Z)({},a,!0))}),e.prev=4,t=K[a]){e.next=8;break}return e.abrupt("return");case 8:if(0!==t.dateDetails.filter(function(e){return e.checkoutCount>0&&0===e.totalDistanceTravelled}).length){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,Promise.all(t.dateDetails.map(function(){var e=(0,s.Z)(c().mark(function e(t){var r,n,s,l,i,o;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.checkoutCount>0&&0===t.totalDistanceTravelled)){e.next=19;break}r=0,n=0,s=0;case 4:if(!(s<t.visitDetails.length-1)){e.next=16;break}if(l=t.visitDetails[s],i=t.visitDetails[s+1],!(l.checkinLatitude&&l.checkinLongitude&&i.checkinLatitude&&i.checkinLongitude)){e.next=13;break}return e.next=10,eg(l.checkinLatitude,l.checkinLongitude,i.checkinLatitude,i.checkinLongitude);case 10:o=e.sent,"Car"===(l.vehicleType||"Bike")?r+=o:n+=o;case 13:s++,e.next=4;break;case 16:return e.next=18,N.Z.post("https://api.gajkesaristeels.in/travel-allowance/create",{employeeId:a,date:t.date,distanceTravelledByCar:r,distanceTravelledByBike:n},{headers:{Authorization:"Bearer ".concat(O),"Content-Type":"application/json"}});case 18:return e.abrupt("return",C(C({},t),{},{totalDistanceTravelled:r+n}));case 19:return e.abrupt("return",t);case 20:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}()));case 13:return r=e.sent,H(function(e){return C(C({},e),{},(0,n.Z)({},a,C(C({},t),{},{dateDetails:r})))}),e.next=17,em(a);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(4),console.error("Error calculating distances:",e.t0);case 22:return e.prev=22,er(function(e){return C(C({},e),{},(0,n.Z)({},a,!1))}),e.finish(22);case 25:case"end":return e.stop()}},e,null,[[4,19,22,25]])})),function(e){return l.apply(this,arguments)}),eg=(y=(0,s.Z)(c().mark(function e(a,t,r,n){var s;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.Z.post("https://api.olamaps.io/routing/v1/directions",null,{params:{origin:"".concat(a,",").concat(t),destination:"".concat(r,",").concat(n),alternatives:!1,steps:!1,overview:"full",language:"en",traffic_metadata:!1},headers:{Authorization:"Bearer ".concat($),"X-Request-Id":crypto.randomUUID(),"X-Correlation-Id":crypto.randomUUID()}});case 3:return s=e.sent,e.abrupt("return",s.data.routes[0].legs[0].distance/1e3);case 7:return e.prev=7,e.t0=e.catch(0),console.error("Error calculating distance:",e.t0),e.abrupt("return",0);case 11:case"end":return e.stop()}},e,null,[[0,7]])})),function(e,a,t,r){return y.apply(this,arguments)}),ew=10*G,e_=R.sort(function(e,a){var t="".concat(e.employeeFirstName," ").concat(e.employeeLastName).toLowerCase(),r="".concat(a.employeeFirstName," ").concat(a.employeeLastName).toLowerCase();return t.localeCompare(r)}).filter(function(e){return"All Field Officers"===z||"".concat(e.employeeFirstName," ").concat(e.employeeLastName)===z}).slice(ew-10,ew),eO=Math.ceil(R.length/10),ek=["All Field Officers"].concat((0,r.Z)(Array.from(new Set(R.map(function(e){return"".concat(e.employeeFirstName," ").concat(e.employeeLastName)})))));return(0,D.jsxs)("div",{className:k().salaryContainer,children:[(0,D.jsx)("h2",{className:k().pageTitle,children:"Salary Details"}),(0,D.jsxs)("div",{className:k().filterContainer,children:[(0,D.jsx)("div",{className:k().selectContainer,children:(0,D.jsxs)(o.Ph,{onValueChange:I,defaultValue:E,children:[(0,D.jsx)(o.i4,{children:(0,D.jsx)(o.ki,{placeholder:"Select Year"})}),(0,D.jsx)(o.Bw,{children:ei.map(function(e){return(0,D.jsx)(o.Ql,{value:e.value,children:e.label},e.value)})})]})}),(0,D.jsx)("div",{className:k().selectContainer,children:(0,D.jsxs)(o.Ph,{onValueChange:F,defaultValue:A,children:[(0,D.jsx)(o.i4,{children:(0,D.jsx)(o.ki,{placeholder:"Select Month"})}),(0,D.jsx)(o.Bw,{children:[{value:"01",label:"January"},{value:"02",label:"February"},{value:"03",label:"March"},{value:"04",label:"April"},{value:"05",label:"May"},{value:"06",label:"June"},{value:"07",label:"July"},{value:"08",label:"August"},{value:"09",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}].map(function(e){return(0,D.jsx)(o.Ql,{value:e.value,children:e.label},e.value)})})]})}),(0,D.jsx)("div",{className:k().selectContainer,children:(0,D.jsxs)(o.Ph,{onValueChange:L,defaultValue:z,children:[(0,D.jsx)(o.i4,{children:(0,D.jsx)(o.ki,{placeholder:"Select Field Officer"})}),(0,D.jsx)(o.Bw,{children:ek.map(function(e,a){return(0,D.jsx)(o.Ql,{value:e,children:e},a)})})]})})]}),W?(0,D.jsxs)(D.Fragment,{children:[ed?(0,D.jsx)("div",{className:k().cardView,children:(0,D.jsx)("div",{className:k().mobileContainer,children:e_.map(function(e,a){var t,r,n,s,l;return(0,D.jsxs)(v,{className:k().card,children:[(0,D.jsxs)(j,{className:k().cardHeader,children:[(0,D.jsxs)("div",{className:k().employeeInfo,children:[(0,D.jsx)(h.qE,{className:k().avatar,children:(0,D.jsx)(h.Q5,{children:(s=e.employeeFirstName,l=e.employeeLastName,"".concat(s.charAt(0)).concat(l.charAt(0)).toUpperCase())})}),(0,D.jsxs)("div",{children:[(0,D.jsx)(m.ll,{className:k().employeeName,children:"".concat(e.employeeFirstName," ").concat(e.employeeLastName)}),(0,D.jsx)("p",{className:k().employeeRole,children:"Field Officer"})]})]}),(0,D.jsxs)("div",{className:k().totalSalary,children:["₹",ex(e,Number(E),Number(A))]})]}),(0,D.jsxs)(x,{className:k().cardContent,children:[(0,D.jsxs)("div",{className:k().salaryDetails,children:[(0,D.jsxs)("div",{className:k().detailItem,children:[(0,D.jsx)(b.Z,{className:k().icon}),(0,D.jsxs)("div",{children:[(0,D.jsx)("span",{className:k().label,children:"Full Days:"}),(0,D.jsx)("span",{className:k().value,children:e.fullDays})]})]}),(0,D.jsxs)("div",{className:k().detailItem,children:[(0,D.jsx)(b.Z,{className:k().icon}),(0,D.jsxs)("div",{children:[(0,D.jsx)("span",{className:k().label,children:"Half Days:"}),(0,D.jsx)("span",{className:k().value,children:e.halfDays})]})]}),(0,D.jsxs)("div",{className:k().detailItem,children:[(0,D.jsx)(g.Z,{className:k().icon}),(0,D.jsxs)("div",{children:[(0,D.jsx)("span",{className:k().label,children:"Base Salary:"}),(0,D.jsxs)("span",{className:k().value,children:["₹",Math.round(ev(e.salary||0,e.fullDays+.5*e.halfDays,ey(Number(E),Number(A))))]})]})]}),(0,D.jsxs)("div",{className:k().detailItem,children:[(0,D.jsx)(w.Z,{className:k().icon}),(0,D.jsxs)("div",{children:[(0,D.jsx)("span",{className:k().label,children:"TA:"}),(0,D.jsxs)("span",{className:k().value,children:["₹",Math.round(ej(e.distanceTravelledByCar||0,e.distanceTravelledByBike||0,e.pricePerKmCar||0,e.pricePerKmBike||0))]})]})]}),(0,D.jsxs)("div",{className:k().detailItem,children:[(0,D.jsx)(_.Z,{className:k().icon}),(0,D.jsxs)("div",{children:[(0,D.jsx)("span",{className:k().label,children:"DA:"}),(0,D.jsxs)("span",{className:k().value,children:["₹",Math.round(((null===(t=es[e.employeeId])||void 0===t?void 0:t.dearnessAllowance)||0)*e.fullDays+((null===(r=es[e.employeeId])||void 0===r?void 0:r.dearnessAllowance)||0)/2*e.halfDays)]})]})]}),(0,D.jsxs)("div",{className:k().detailItem,children:[(0,D.jsx)(g.Z,{className:k().icon}),(0,D.jsxs)("div",{children:[(0,D.jsx)("span",{className:k().label,children:"Expense:"}),(0,D.jsxs)("span",{className:k().value,children:["₹",Math.round((null===(n=e.statsDto)||void 0===n?void 0:n.approvedExpense)||0)]})]})]})]}),eN(e.employeeId)>0&&(0,D.jsx)("div",{className:k().anomalyWarning,children:(0,D.jsx)(p.pn,{children:(0,D.jsxs)(p.u,{children:[(0,D.jsx)(p.aJ,{asChild:!0,children:(0,D.jsx)(f.z,{size:"sm",variant:"outline",onClick:function(){return eb(e.employeeId)},disabled:et[e.employeeId],className:k().anomalyButton,children:et[e.employeeId]?"Calculating...":(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(u.LPM,{className:k().warningIcon}),eN(e.employeeId)," anomalies detected"]})})}),(0,D.jsx)(p._v,{children:(0,D.jsx)("p",{children:"Click to recalculate distances for days with anomalies"})})]})})})]})]},a)})})}):(0,D.jsx)("div",{className:k().tableView,children:(0,D.jsx)("div",{className:k().desktopContainer,children:(0,D.jsxs)("table",{className:k().table,children:[(0,D.jsx)("thead",{children:(0,D.jsxs)("tr",{children:[(0,D.jsx)("th",{children:"Employee Name"}),(0,D.jsx)("th",{children:"Full Days"}),(0,D.jsx)("th",{children:"Half Days"}),(0,D.jsx)("th",{children:"Base Salary"}),(0,D.jsx)("th",{children:"TA"}),(0,D.jsx)("th",{children:"DA"}),(0,D.jsx)("th",{children:"Expense"}),(0,D.jsx)("th",{children:"Total Salary"}),(0,D.jsx)("th",{children:"Actions"})]})}),(0,D.jsx)("tbody",{children:e_.map(function(e,a){var t,r,n;return(0,D.jsxs)("tr",{children:[(0,D.jsx)("td",{children:"".concat(e.employeeFirstName," ").concat(e.employeeLastName)}),(0,D.jsx)("td",{children:e.fullDays}),(0,D.jsx)("td",{children:e.halfDays}),(0,D.jsxs)("td",{children:["₹",Math.round(ev(e.salary||0,e.fullDays+.5*e.halfDays,ey(Number(E),Number(A))))]}),(0,D.jsxs)("td",{children:["₹",Math.round(ej(e.distanceTravelledByCar||0,e.distanceTravelledByBike||0,e.pricePerKmCar||0,e.pricePerKmBike||0))]}),(0,D.jsxs)("td",{children:["₹",Math.round(((null===(t=es[e.employeeId])||void 0===t?void 0:t.dearnessAllowance)||0)*e.fullDays+((null===(r=es[e.employeeId])||void 0===r?void 0:r.dearnessAllowance)||0)/2*e.halfDays)]}),(0,D.jsxs)("td",{children:["₹",Math.round((null===(n=e.statsDto)||void 0===n?void 0:n.approvedExpense)||0)]}),(0,D.jsxs)("td",{children:["₹",ex(e,Number(E),Number(A))]}),(0,D.jsx)("td",{children:eN(e.employeeId)>0&&(0,D.jsx)(p.pn,{children:(0,D.jsxs)(p.u,{children:[(0,D.jsx)(p.aJ,{asChild:!0,children:(0,D.jsxs)(f.z,{size:"sm",variant:"outline",onClick:function(){return eb(e.employeeId)},disabled:et[e.employeeId],className:k().tooltipButton,children:[(0,D.jsx)(u.LPM,{className:"mr-2 h-4 w-4 ".concat(k().warningIcon)}),et[e.employeeId]?"Calculating...":"Calculate (".concat(eN(e.employeeId),")")]})}),(0,D.jsx)(p._v,{className:k().customTooltip,children:(0,D.jsxs)("p",{children:[eN(e.employeeId)," day(s) with checkout but no distance traveled"]})})]})})})]},a)})})]})})}),(0,D.jsx)(d.tl,{className:k().pagination,children:(0,D.jsxs)(d.ng,{children:[G>1&&(0,D.jsx)(d.nt,{children:(0,D.jsx)(d.dN,{onClick:function(){return q(G-1)}})}),(0,r.Z)(Array(eO)).map(function(e,a){return(0,D.jsx)(d.nt,{children:(0,D.jsx)(d.kN,{isActive:G===a+1,onClick:function(){return q(a+1)},children:a+1})},a)}),G<eO&&(0,D.jsx)(d.nt,{children:(0,D.jsx)(d.$0,{onClick:function(){return q(G+1)}})})]})})]}):(0,D.jsx)("p",{className:k().noDataMessage,children:"No data available for the selected month and year. Please choose a different month or year."})]})}},40371:function(e){e.exports={salaryContainer:"Salary_salaryContainer__qAyC8",pageTitle:"Salary_pageTitle__WchRc",filterContainer:"Salary_filterContainer__EbDp0",selectContainer:"Salary_selectContainer__sFahw",tableView:"Salary_tableView__Cv53s",table:"Salary_table__nt7Zv",noDataMessage:"Salary_noDataMessage__WYRP0",pagination:"Salary_pagination__FIU1D",mobileContainer:"Salary_mobileContainer__Y_Och",card:"Salary_card__jsFBo",cardHeader:"Salary_cardHeader__FVZuW",employeeInfo:"Salary_employeeInfo__TrLCt",avatar:"Salary_avatar__fogYh",employeeName:"Salary_employeeName__2iwho",employeeRole:"Salary_employeeRole__wHDjk",totalSalary:"Salary_totalSalary__GnVtW",cardContent:"Salary_cardContent__KNruc",salaryDetails:"Salary_salaryDetails__hZVUa",detailItem:"Salary_detailItem__X0Q15",icon:"Salary_icon__olyuV",label:"Salary_label___4zpj",value:"Salary_value__GQh1Y",anomalyWarning:"Salary_anomalyWarning__08fSb",anomalyButton:"Salary_anomalyButton__lbygw",warningIcon:"Salary_warningIcon__FjRGp"}}}]);