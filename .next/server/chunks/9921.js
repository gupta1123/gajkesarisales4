"use strict";exports.id=9921,exports.ids=[9921],exports.modules={5474:(e,r,t)=>{t.a(e,async(e,s)=>{try{t.d(r,{Ol:()=>h,SZ:()=>x,Zb:()=>y,aY:()=>v,eW:()=>N,ll:()=>g});var n=t(6689),a=t(8710),i=t(997),l=e([a]);a=(l.then?(await l)():l)[0];let m=["className"],u=["className"],f=["className"],p=["className"],b=["className"],j=["className"];function o(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,s)}return t}function c(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?o(Object(t),!0).forEach(function(r){var s,n;s=r,n=t[r],(s=function(e){var r=function(e,r){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var s=t.call(e,r||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:String(r)}(s))in e?Object.defineProperty(e,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[s]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function d(e,r){if(null==e)return{};var t,s,n=function(e,r){if(null==e)return{};var t,s,n={},a=Object.keys(e);for(s=0;s<a.length;s++)t=a[s],r.indexOf(t)>=0||(n[t]=e[t]);return n}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)t=a[s],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}let y=n.forwardRef((e,r)=>{let{className:t}=e,s=d(e,m);return i.jsx("div",c({ref:r,className:(0,a.cn)("rounded-xl border bg-card text-card-foreground shadow",t)},s))});y.displayName="Card";let h=n.forwardRef((e,r)=>{let{className:t}=e,s=d(e,u);return i.jsx("div",c({ref:r,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",t)},s))});h.displayName="CardHeader";let g=n.forwardRef((e,r)=>{let{className:t}=e,s=d(e,f);return i.jsx("h3",c({ref:r,className:(0,a.cn)("font-semibold leading-none tracking-tight",t)},s))});g.displayName="CardTitle";let x=n.forwardRef((e,r)=>{let{className:t}=e,s=d(e,p);return i.jsx("p",c({ref:r,className:(0,a.cn)("text-sm text-muted-foreground",t)},s))});x.displayName="CardDescription";let v=n.forwardRef((e,r)=>{let{className:t}=e,s=d(e,b);return i.jsx("div",c({ref:r,className:(0,a.cn)("p-6 pt-0",t)},s))});v.displayName="CardContent";let N=n.forwardRef((e,r)=>{let{className:t}=e,s=d(e,j);return i.jsx("div",c({ref:r,className:(0,a.cn)("flex items-center p-6 pt-0",t)},s))});N.displayName="CardFooter",s()}catch(e){s(e)}})},2546:(e,r,t)=>{t.a(e,async(e,s)=>{try{t.d(r,{I:()=>d});var n=t(6689),a=t(8710),i=t(997),l=e([a]);a=(l.then?(await l)():l)[0];let c=["className","type"];function o(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,s)}return t}let d=n.forwardRef((e,r)=>{let{className:t,type:s}=e,n=function(e,r){if(null==e)return{};var t,s,n=function(e,r){if(null==e)return{};var t,s,n={},a=Object.keys(e);for(s=0;s<a.length;s++)t=a[s],r.indexOf(t)>=0||(n[t]=e[t]);return n}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)t=a[s],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}(e,c);return i.jsx("input",function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?o(Object(t),!0).forEach(function(r){var s,n;s=r,n=t[r],(s=function(e){var r=function(e,r){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var s=t.call(e,r||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:String(r)}(s))in e?Object.defineProperty(e,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[s]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}({type:s,className:(0,a.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:r},n))});d.displayName="Input",s()}catch(e){s(e)}})},9921:(e,r,t)=>{t.a(e,async(e,s)=>{try{t.r(r),t.d(r,{default:()=>p});var n=t(6689),a=t(5474),i=t(2546),l=t(8462),o=t(9222),c=t(2423),d=t(997),m=e([a,i,l,o]);function u(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,s)}return t}function f(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?u(Object(t),!0).forEach(function(r){var s,n;s=r,n=t[r],(s=function(e){var r=function(e,r){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var s=t.call(e,r||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:String(r)}(s))in e?Object.defineProperty(e,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[s]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function p({brands:e,setBrands:r,visitId:t,token:s,fetchVisitDetail:m}){let{0:u,1:p}=(0,n.useState)(!1),{0:b,1:j}=(0,n.useState)(!1),{0:y,1:h}=(0,n.useState)({brandName:"",pros:[],cons:[]}),{0:g,1:x}=(0,n.useState)(null),v=(0,n.useCallback)(async()=>{try{let e=await fetch(`https://api.gajkesaristeels.in/visit/getProCons?visitId=${t}`,{headers:{Authorization:`Bearer ${s}`}}),n=await e.json(),a=n?.map(e=>({id:e.id,brandName:e.brandName,pros:e.pros,cons:e.cons}))||[];r(a)}catch(e){console.error("Error fetching brands:",e)}},[s,t,r]);(0,n.useEffect)(()=>{t&&v()},[t,v]);let N=e=>{y[e].length<3&&h(f(f({},y),{},{[e]:[...y[e],""]}))},O=(e,r,t)=>{let s=[...y[e]];s[r]=t,h(f(f({},y),{},{[e]:s}))},w=async()=>{if(""!==y.brandName.trim()){let n={brandName:y.brandName,pros:y.pros.filter(e=>""!==e.trim()),cons:y.cons.filter(e=>""!==e.trim())};try{let a=await fetch(`https://api.gajkesaristeels.in/visit/addProCons?visitId=${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify([...e,n])});a.ok?(r([...e,f(f({},n),{},{id:new Date().getTime()})]),h({brandName:"",pros:[],cons:[]}),p(!1)):console.error("Error adding brand:",a.statusText)}catch(e){console.error("Error adding brand:",e)}}},P=r=>{j(!0),x(r);let t=e.find(e=>e.id===r);t?h({brandName:t.brandName,pros:t.pros,cons:t.cons}):console.error("Brand not found")},C=async()=>{if(""!==y.brandName.trim()){let n=e.map(e=>e.id===g?f(f({},e),{},{brandName:y.brandName,pros:y.pros.filter(e=>""!==e.trim()),cons:y.cons.filter(e=>""!==e.trim())}):e);try{let e=await fetch(`https://api.gajkesaristeels.in/visit/addProCons?visitId=${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(n.map(e=>({brandName:e.brandName,pros:e.pros,cons:e.cons})))});e.ok?(r(n),h({brandName:"",pros:[],cons:[]}),j(!1),x(null)):console.error("Error updating brand:",e.statusText)}catch(e){console.error("Error updating brand:",e)}}},S=async n=>{let a=e.find(e=>e.id===n),i=e.filter(e=>e.id!==n);if(a)try{let e=await fetch(`https://api.gajkesaristeels.in/visit/deleteProCons?visitId=${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify([{brandName:a.brandName}])});e.ok?(r(i),console.log("Pros Cons Deleted Successfully!")):console.error("Error deleting brand:",e.statusText)}catch(e){console.error("Error deleting brand:",e)}};return(0,d.jsxs)("div",{className:"w-full",children:[!u&&!b&&e&&0===e.length&&(0,d.jsxs)("div",{className:"text-center",children:[d.jsx("p",{className:"text-gray-500",children:"No brands available."}),(0,d.jsxs)(o.z,{onClick:()=>p(!0),className:"mt-4",children:[d.jsx(c.Plus,{className:"mr-2"}),"Add Brand"]})]}),(u||b)&&d.jsx(a.Zb,{className:"w-full mb-4 p-4",children:(0,d.jsxs)(a.aY,{children:[(0,d.jsxs)("div",{className:"mb-4",children:[d.jsx(l._,{children:"Brand Name"}),d.jsx(i.I,{name:"brandName",value:y.brandName,onChange:e=>{h(f(f({},y),{},{[e.target.name]:e.target.value}))},placeholder:"Enter brand name"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,d.jsxs)("div",{children:[d.jsx(l._,{children:"Pros"}),y.pros.map((e,r)=>d.jsx(i.I,{value:e,onChange:e=>O("pros",r,e.target.value),placeholder:`Pro ${r+1}`,className:"mb-2"},r)),y.pros.length<3&&(0,d.jsxs)(o.z,{onClick:()=>N("pros"),variant:"outline",size:"sm",className:"w-full",children:[d.jsx(c.Plus,{className:"mr-2"}),"Add Pro"]})]}),(0,d.jsxs)("div",{children:[d.jsx(l._,{children:"Cons"}),y.cons.map((e,r)=>d.jsx(i.I,{value:e,onChange:e=>O("cons",r,e.target.value),placeholder:`Con ${r+1}`,className:"mb-2"},r)),y.cons.length<3&&(0,d.jsxs)(o.z,{onClick:()=>N("cons"),variant:"outline",size:"sm",className:"w-full",children:[d.jsx(c.Plus,{className:"mr-2"}),"Add Con"]})]})]}),(0,d.jsxs)("div",{className:"flex justify-end space-x-2",children:[d.jsx(o.z,{onClick:b?C:w,variant:"default",children:b?"Update":"Add"}),d.jsx(o.z,{onClick:()=>{p(!1),j(!1),x(null),h({brandName:"",pros:[],cons:[]})},variant:"outline",children:"Cancel"})]})]})}),e.length>0&&d.jsx("div",{className:"mt-8 grid grid-cols-1 gap-4",children:e.map(e=>d.jsx(a.Zb,{className:"w-full p-4 bg-white rounded-lg shadow-md flex justify-between items-center",children:d.jsx(a.aY,{className:"w-full",children:(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsxs)("div",{className:"flex flex-col",children:[d.jsx("div",{className:"font-bold text-lg",style:{color:"#3490dc"},children:e.brandName}),(0,d.jsxs)("div",{className:"flex items-center mt-2",children:[(0,d.jsxs)("div",{className:"mr-4",children:[(0,d.jsxs)("div",{className:"font-semibold mb-1 flex items-center",children:[d.jsx(c.CheckCircle,{className:"text-green-500 mr-1"}),"Pros"]}),d.jsx("ul",{className:"text-gray-600 text-sm list-disc pl-4",children:e.pros.map((e,r)=>d.jsx("li",{children:e},r))})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"font-semibold mb-1 flex items-center",children:[d.jsx(c.XCircle,{className:"text-red-500 mr-1"}),"Cons"]}),d.jsx("ul",{className:"text-gray-600 text-sm list-disc pl-4",children:e.cons.map((e,r)=>d.jsx("li",{children:e},r))})]})]})]}),(0,d.jsxs)("div",{className:"flex space-x-2",children:[d.jsx(o.z,{onClick:()=>P(e.id),variant:"ghost",size:"sm",children:d.jsx(c.Edit,{className:"text-gray-500"})}),d.jsx(o.z,{onClick:()=>S(e.id),variant:"ghost",size:"sm",children:d.jsx(c.Trash,{className:"text-red-500"})})]})]})})},e.id))}),!u&&!b&&(0,d.jsxs)(o.z,{onClick:()=>p(!0),className:"mt-4",children:[d.jsx(c.Plus,{className:"mr-2"}),"Add Brand"]})]})}[a,i,l,o]=m.then?(await m)():m,s()}catch(e){s(e)}})}};