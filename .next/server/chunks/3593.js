exports.id=3593,exports.ids=[3593],exports.modules={5469:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{Z:()=>y});var s=a(6689),o=a(1664),n=a.n(o),i=a(1163),l=a(2432),c=a.n(l),d=a(3291),u=a(9754),m=a(1780),p=a(6197),f=a(997),b=e([d,u,m,p]);[d,u,m,p]=b.then?(await b)():b;let h=[{href:"/Dashboard",icon:m.FiHome,label:"Dashboard",roles:["ADMIN","MANAGER","FIELD OFFICER"]},{href:"/VisitsList",icon:m.FiMap,label:"Visits",roles:["ADMIN","MANAGER","FIELD OFFICER"]},{href:"/Expense",icon:m.FiDollarSign,label:"Expenses",roles:["ADMIN","FIELD OFFICER"]},{href:"/Attendance",icon:m.FiClipboard,label:"Attendance",roles:["ADMIN"]},{href:"/Requirements",icon:m.FiClipboard,label:"Requirements",roles:["ADMIN","MANAGER","FIELD OFFICER"]},{href:"/Complaints",icon:m.FiClipboard,label:"Complaints",roles:["ADMIN","MANAGER","FIELD OFFICER"]},{href:"/DailyPricing",icon:m.FiDollarSign,label:"Pricing",roles:["ADMIN","MANAGER"]},{href:"/Reports",icon:m.FiBarChart2,label:"Reports",roles:["ADMIN"]},{href:"/CustomerListPage",icon:m.FiUsers,label:"Customers",roles:["ADMIN","MANAGER","FIELD OFFICER"]},{href:"/Employeelist",icon:m.FiUser,label:"Employees",roles:["ADMIN"]},{href:"/Settings",icon:m.FiSettings,label:"Settings",roles:["ADMIN"]}],g=({role:e})=>{let t=(0,d.useDispatch)(),a=(0,i.useRouter)(),{0:r,1:o}=(0,s.useState)("/Dashboard"),{0:l,1:b}=(0,s.useState)(!1),g=(0,s.useRef)(null),{0:y,1:j}=(0,s.useState)(!1);(0,s.useEffect)(()=>{o(a.pathname)},[a.pathname]),(0,s.useEffect)(()=>{let e=()=>{j(!0)},t=()=>{j(!1),b(!1)};return a.events.on("routeChangeStart",e),a.events.on("routeChangeComplete",t),()=>{a.events.off("routeChangeStart",e),a.events.off("routeChangeComplete",t)}},[a]),(0,s.useEffect)(()=>{let e=e=>{g.current&&!g.current.contains(e.target)&&b(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let x=h.filter(t=>e&&t.roles.includes(e)),v=async()=>{try{await t((0,u.TX)()).unwrap(),t((0,u.oA)()),localStorage.removeItem("token"),localStorage.removeItem("role"),localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),a.push("/")}catch(e){console.error("Error logging out:",e)}},N=x.slice(0,4),S=x.slice(4),I=e=>{a.push(e)};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(p.motion.div,{className:c().bottomBar,initial:{y:100},animate:{y:0},transition:{type:"spring",stiffness:260,damping:20},children:[N.map(e=>f.jsx(n(),{href:e.href,children:(0,f.jsxs)(p.motion.div,{className:`${c().bottomTab} ${r===e.href?c().activeBottomTab:""}`,whileTap:{scale:.95},children:[f.jsx(e.icon,{className:c().bottomIcon}),f.jsx("span",{className:c().bottomLabel,children:e.label})]})},e.href)),(0,f.jsxs)(p.motion.div,{className:`${c().bottomTab} ${l?c().activeBottomTab:""}`,onClick:()=>b(!l),whileTap:{scale:.95},children:[l?f.jsx(m.FiX,{className:c().bottomIcon}):f.jsx(m.FiMenu,{className:c().bottomIcon}),f.jsx("span",{className:c().bottomLabel,children:l?"Close":"More"})]})]}),f.jsx(p.AnimatePresence,{children:l&&(0,f.jsxs)(p.motion.div,{ref:g,className:c().moreMenu,initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},transition:{type:"spring",stiffness:300,damping:30},drag:"y",dragConstraints:{top:0,bottom:0},onDragEnd:(e,t)=>{t.offset.y>50&&b(!1)},children:[S.map(e=>(0,f.jsxs)(p.motion.div,{className:`${c().moreMenuItem} ${r===e.href?c().activeMoreMenuItem:""}`,whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>I(e.href),children:[f.jsx(e.icon,{className:c().moreMenuIcon}),f.jsx("span",{children:e.label})]},e.href)),(0,f.jsxs)(p.motion.div,{className:`${c().moreMenuItem} ${c().logoutMenuItem}`,onClick:v,whileHover:{scale:1.05},whileTap:{scale:.95},children:[f.jsx(m.FiLogOut,{className:c().moreMenuIcon}),f.jsx("span",{children:"Logout"})]})]})})]})},y=()=>{let e=(0,d.useDispatch)(),t=(0,i.useRouter)(),a=(0,d.useSelector)(e=>e.auth.role),r=async()=>{try{await e((0,u.TX)()).unwrap(),e((0,u.oA)()),localStorage.removeItem("token"),localStorage.removeItem("role"),localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),t.push("/")}catch(e){console.error("Error logging out:",e)}},s=h.filter(e=>a&&e.roles.includes(a));return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(p.motion.div,{className:c().sidebar,initial:{x:-250},animate:{x:0},transition:{type:"spring",stiffness:260,damping:20},children:[f.jsx("div",{className:c().sidebarHeader,children:f.jsx(p.motion.h2,{className:c().brand,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2},children:"Gajkesari"})}),f.jsx("div",{className:c().sidebarContent,children:f.jsx("ul",{className:c().sidebarList,children:s.map((e,a)=>f.jsx(p.motion.li,{className:c().sidebarItem,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*a},children:f.jsx(n(),{href:e.href,children:(0,f.jsxs)("div",{className:`${c().sidebarLink} ${t.pathname===e.href?c().active:""}`,children:[f.jsx(e.icon,{className:c().sidebarIcon}),f.jsx("span",{children:e.label})]})})},e.href))})}),f.jsx(p.motion.div,{className:c().sidebarFooter,initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:(0,f.jsxs)("button",{onClick:r,className:c().logoutButton,children:[f.jsx(m.FiLogOut,{className:c().sidebarIcon}),f.jsx("span",{children:"Logout"})]})})]}),f.jsx(g,{role:a})]})};r()}catch(e){r(e)}})},7321:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{$N:()=>_,Be:()=>C,GG:()=>N,Vq:()=>j,cN:()=>w,cZ:()=>I,fK:()=>O,hg:()=>x});var s=a(6689),o=a(7715),n=a(2132),i=a(8710),l=a(997),c=e([o,i]);[o,i]=c.then?(await c)():c;let p=["className"],f=["className","children"],b=["className"],h=["className"],g=["className"],y=["className"];function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach(function(t){var r,s;r=t,s=a[t],(r=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function m(e,t){if(null==e)return{};var a,r,s=function(e,t){if(null==e)return{};var a,r,s={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}let j=o.Root,x=o.Trigger,v=o.Portal,N=o.Close,S=s.forwardRef((e,t)=>{let{className:a}=e,r=m(e,p);return l.jsx(o.Overlay,u({ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a)},r))});S.displayName=o.Overlay.displayName;let I=s.forwardRef((e,t)=>{let{className:a,children:r}=e,s=m(e,f);return(0,l.jsxs)(v,{children:[l.jsx(S,{}),(0,l.jsxs)(o.Content,u(u({ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a)},s),{},{children:[r,(0,l.jsxs)(o.Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(n.Cross2Icon,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]}))]})});I.displayName=o.Content.displayName;let O=e=>{let{className:t}=e,a=m(e,b);return l.jsx("div",u({className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t)},a))};O.displayName="DialogHeader";let w=e=>{let{className:t}=e,a=m(e,h);return l.jsx("div",u({className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t)},a))};w.displayName="DialogFooter";let _=s.forwardRef((e,t)=>{let{className:a}=e,r=m(e,g);return l.jsx(o.Title,u({ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",a)},r))});_.displayName=o.Title.displayName;let C=s.forwardRef((e,t)=>{let{className:a}=e,r=m(e,y);return l.jsx(o.Description,u({ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a)},r))});C.displayName=o.Description.displayName,r()}catch(e){r(e)}})},8462:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{_:()=>p});var s=a(6689),o=a(49),n=a(6926),i=a(8710),l=a(997),c=e([o,n,i]);[o,n,i]=c.then?(await c)():c;let u=["className"];function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}let m=(0,n.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),p=s.forwardRef((e,t)=>{let{className:a}=e,r=function(e,t){if(null==e)return{};var a,r,s=function(e,t){if(null==e)return{};var a,r,s={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}(e,u);return l.jsx(o.Root,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach(function(t){var r,s;r=t,s=a[t],(r=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({ref:t,className:(0,i.cn)(m(),a)},r))});p.displayName=o.Root.displayName,r()}catch(e){r(e)}})},8710:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{cn:()=>i});var s=a(6593),o=a(8097),n=e([s,o]);function i(...e){return(0,o.twMerge)((0,s.clsx)(e))}[s,o]=n.then?(await n)():n,r()}catch(e){r(e)}})},3593:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{default:()=>v}),a(4542);var s=a(5469),o=a(5678),n=a.n(o),i=a(3291),l=a(9754),c=a(5725),d=a(6689),u=a(1163),m=a(7321),p=a(8462),f=a(997),b=e([s,i,l,m,p]);function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach(function(t){var r,s;r=t,s=a[t],(r=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}[s,i,l,m,p]=b.then?(await b)():b;let y=()=>{let e=(0,i.useDispatch)(),{0:t,1:a}=(0,d.useState)(""),{0:r,1:s}=(0,d.useState)(""),{0:o,1:n}=(0,d.useState)(!1),{0:c,1:m}=(0,d.useState)(null),p=(0,i.useSelector)(e=>e.auth.status),b=(0,u.useRouter)(),h=async a=>{a.preventDefault(),m(null);try{(await e((0,l.pH)({username:t,password:r})).unwrap()).token&&b.push("/Dashboard")}catch(e){console.error("Login error:",e),m(e||"An unknown error occurred. Please try again.")}};return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4 sm:px-6 lg:px-8",children:f.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 sm:p-8 w-full max-w-md",children:(0,f.jsxs)("div",{className:"text-center",children:[f.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-4 sm:mb-6",children:"Gajkesari"}),f.jsx("img",{src:"/GajkesariLogo.jpeg",alt:"Gajkesari Logo",className:"mx-auto mb-4 sm:mb-6",style:{maxWidth:"150px",width:"100%",height:"auto"}}),c&&f.jsx("p",{className:"text-center mb-4 text-red-500 text-sm",children:c}),(0,f.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[f.jsx("div",{children:f.jsx("input",{type:"text",id:"username",placeholder:"Username",value:t,onChange:e=>a(e.target.value),className:"w-full px-3 py-2 text-sm rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-red-500"})}),(0,f.jsxs)("div",{className:"relative",children:[f.jsx("input",{type:o?"text":"password",id:"password",placeholder:"Password",value:r,onChange:e=>s(e.target.value),className:"w-full px-3 py-2 text-sm rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-red-500"}),f.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-sm text-gray-500",onClick:()=>{n(!o)},children:o?"Hide":"Show"})]}),f.jsx("button",{type:"submit",className:`w-full px-4 py-2 text-sm rounded-md bg-red-600 text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 transition duration-150 ease-in-out ${"loading"===p?"opacity-50 cursor-not-allowed":""}`,disabled:"loading"===p,children:"loading"===p?"Logging in...":"Login"})]})]})})})},j=()=>{let e=(0,i.useDispatch)(),{0:t,1:a}=(0,d.useState)({brandName:"Gajkesari",price:"",city:"",employeeDto:{id:86}}),r=(0,i.useSelector)(e=>e.auth.isModalOpen),s=(0,i.useSelector)(e=>e.auth.token),o=async()=>{let r=g(g({},t),{},{price:parseFloat(t.price)});try{(await fetch("https://api.gajkesaristeels.in/brand/create",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(r)})).ok?(e((0,l.VN)(!1)),a({brandName:"Gajkesari",price:"",city:"",employeeDto:{id:86}})):console.error("Error creating brand")}catch(e){console.error("Error creating brand:",e)}};return f.jsx(m.Vq,{open:r,onOpenChange:t=>e((0,l.VN)(t)),children:(0,f.jsxs)(m.cZ,{className:"sm:max-w-[425px] p-6",children:[(0,f.jsxs)(m.fK,{children:[f.jsx(m.$N,{className:"text-2xl font-bold",children:"Create Pricing"}),f.jsx(m.Be,{className:"mt-2",children:"Daily Pricing for today has not been created. Please fill out the details below."})]}),(0,f.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,f.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[f.jsx(p._,{htmlFor:"brandName",className:"text-right",children:"Brand Name"}),f.jsx(c.Input,{id:"brandName",value:t.brandName,disabled:!0,className:"col-span-3"})]}),(0,f.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[f.jsx(p._,{htmlFor:"price",className:"text-right",children:"Price"}),f.jsx(c.Input,{id:"price",type:"number",value:t.price,onChange:e=>a(g(g({},t),{},{price:e.target.value})),className:"col-span-3"})]}),(0,f.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[f.jsx(p._,{htmlFor:"city",className:"text-right",children:"City"}),f.jsx(c.Input,{id:"city",value:t.city,onChange:e=>a(g(g({},t),{},{city:e.target.value})),className:"col-span-3"})]})]}),f.jsx(m.cN,{children:f.jsx(c.Button,{htmlType:"submit",onClick:o,children:"Create"})})]})})},x=({children:e})=>{let t=(0,i.useDispatch)(),a=(0,i.useSelector)(e=>e.auth.token),r=(0,i.useSelector)(e=>e.auth.role),s=(0,i.useSelector)(e=>e.auth.username),o=(0,i.useSelector)(e=>e.auth.employeeId),n=(0,i.useSelector)(e=>e.auth.teamId),c=(0,u.useRouter)();return((0,d.useEffect)(()=>{let e=localStorage.getItem("token"),o=localStorage.getItem("role"),n=localStorage.getItem("username");e&&!a&&(t((0,l.o4)(e)),(0,l.Uj)(e)),o&&!r&&t((0,l.gD)(o)),n&&!s&&t((0,l.CS)(n))},[t,a,r,s]),(0,d.useEffect)(()=>{"MANAGER"===r&&o&&!n&&t((0,l.mR)())},[t,r,o,n]),(0,d.useEffect)(()=>{a||"/"===c.pathname||c.push("/")},[a,c]),a)?f.jsx(f.Fragment,{children:e}):f.jsx(y,{})},v=function({Component:e,pageProps:t}){let a=e.getLayout??(e=>e);return f.jsx(i.Provider,{store:l.h,children:(0,f.jsxs)(x,{children:[f.jsx(j,{}),(0,f.jsxs)("div",{className:n().appContainer,children:[f.jsx(s.Z,{}),f.jsx("main",{className:n().mainContent,children:a(f.jsx(e,g({},t)))})]})]})})};r()}catch(e){r(e)}})},9754:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{CS:()=>c,TX:()=>m,Uj:()=>v,VN:()=>y,gD:()=>h,h:()=>x,mR:()=>d,o4:()=>b,oA:()=>g,pH:()=>l});var s=a(3258),o=a(9648),n=e([s,o]);[s,o]=n.then?(await n)():n;let i=o.default.create({baseURL:"https://api.gajkesaristeels.in"}),l=(0,s.createAsyncThunk)("auth/login",async({username:e,password:t},{rejectWithValue:a,dispatch:r})=>{try{let s=await i.post("/user/token",{username:e,password:t});if("Bad credentials"===s.data)return a("Invalid username or password");let[o,n]=s.data.split(" ");return localStorage.setItem("token",n),localStorage.setItem("role",o),localStorage.setItem("username",e),i.defaults.headers.common.Authorization=`Bearer ${n}`,await r(c(e)),"MANAGER"===o&&await r(d()),await r(u(o)),{role:o,token:n}}catch(e){return a(e.response?.data||e.message)}}),c=(0,s.createAsyncThunk)("auth/fetchUserInfo",async(e,{rejectWithValue:t})=>{try{return(await i.get(`/user/manage/get?username=${e}`)).data}catch(e){return t(e.response?.data||e.message)}}),d=(0,s.createAsyncThunk)("auth/fetchTeamInfo",async(e,{rejectWithValue:t,getState:a})=>{try{let e=a().auth.employeeId;if(!e)return null;return(await i.get(`/employee/team/getbyEmployee?id=${e}`)).data[0]}catch(e){return t(e.response?.data||e.message)}}),u=(0,s.createAsyncThunk)("auth/checkDailyPricing",async(e,{rejectWithValue:t,dispatch:a})=>{let r=new Date().toISOString().split("T")[0],s=`/brand/getByDateRange?start=${r}&end=${r}`;try{let t=(await i.get(s)).data.find(e=>"Gajkesari"===e.brandName);t&&t.employeeDto?.id===86?(a(j(t.price)),a(y(!1))):(a(j(0)),"ADMIN"===e&&a(y(!0)))}catch(e){return t(e.response?.data||e.message)}}),m=(0,s.createAsyncThunk)("auth/logout",async(e,{rejectWithValue:t})=>{try{localStorage.removeItem("token"),localStorage.removeItem("role"),localStorage.removeItem("teamId"),localStorage.removeItem("username"),delete i.defaults.headers.common.Authorization;return}catch(e){return t(e.response?.data||e.message)}}),p={user:null,token:null,employeeId:null,status:"idle",error:null,username:null,role:null,firstName:null,lastName:null,teamId:null,officeManagerId:null,teamMembers:[],isModalOpen:!1,gajkesariRate:0},f=(0,s.createSlice)({name:"auth",initialState:p,reducers:{setToken:(e,t)=>{e.token=t.payload,i.defaults.headers.common.Authorization=`Bearer ${t.payload}`},setRole:(e,t)=>{e.role=t.payload},resetState:e=>{Object.assign(e,p),delete i.defaults.headers.common.Authorization},setModalOpen:(e,t)=>{e.isModalOpen=t.payload},setGajkesariRate:(e,t)=>{e.gajkesariRate=t.payload}},extraReducers:e=>{e.addCase(l.pending,e=>{e.status="loading"}).addCase(l.fulfilled,(e,t)=>{e.status="succeeded",e.token=t.payload.token,e.role=t.payload.role}).addCase(l.rejected,(e,t)=>{e.status="failed",e.error=t.payload||"Unknown error"}).addCase(c.fulfilled,(e,t)=>{e.employeeId=t.payload.employeeId,e.username=t.payload.username,e.firstName=t.payload.firstName,e.lastName=t.payload.lastName}).addCase(d.fulfilled,(e,t)=>{t.payload&&(e.teamId=t.payload.id,e.teamMembers=t.payload.fieldOfficers,localStorage.setItem("teamId",t.payload.id.toString()))}).addCase(m.fulfilled,e=>{Object.assign(e,p)})}}),{setToken:b,setRole:h,resetState:g,setModalOpen:y,setGajkesariRate:j}=f.actions,x=(0,s.configureStore)({reducer:{auth:f.reducer}}),v=e=>{i.defaults.headers.common.Authorization=`Bearer ${e}`};r()}catch(e){r(e)}})},2432:e=>{e.exports={sidebar:"Sidebar_sidebar__v6daX",sidebarHeader:"Sidebar_sidebarHeader__klUJS",brand:"Sidebar_brand__qFBGg",sidebarContent:"Sidebar_sidebarContent__qlAHP",sidebarList:"Sidebar_sidebarList__RvQbI",sidebarItem:"Sidebar_sidebarItem__VGFlG",sidebarLink:"Sidebar_sidebarLink__4JOqm",active:"Sidebar_active__jjcnH",sidebarFooter:"Sidebar_sidebarFooter__jKEfh",logoutButton:"Sidebar_logoutButton__FJS1G",sidebarIcon:"Sidebar_sidebarIcon__RjA6R",bottomBar:"Sidebar_bottomBar__zKLeu",bottomTab:"Sidebar_bottomTab__2B4Wu",activeBottomTab:"Sidebar_activeBottomTab___DV7e",bottomIcon:"Sidebar_bottomIcon__bQXSv",bottomLabel:"Sidebar_bottomLabel__1OrQI",moreMenu:"Sidebar_moreMenu__9gTQD",moreMenuItem:"Sidebar_moreMenuItem__robvG",activeMoreMenuItem:"Sidebar_activeMoreMenuItem__JSg_s",moreMenuIcon:"Sidebar_moreMenuIcon__1O89K",logoutMenuItem:"Sidebar_logoutMenuItem__P_TWk",slideIn:"Sidebar_slideIn__BkDXq",fadeIn:"Sidebar_fadeIn__EXcre"}},5678:e=>{e.exports={appContainer:"App_appContainer__pH8NJ",mainContent:"App_mainContent__2htIp"}},4542:()=>{}};