exports.id=8808,exports.ids=[8808],exports.modules={7231:(e,a,t)=>{"use strict";t.a(e,async(e,r)=>{try{t.d(a,{F$:()=>f,Q5:()=>j,qE:()=>h});var l=t(6689),n=t(5458),s=t(8710),i=t(997),o=e([n,s]);[n,s]=o.then?(await o)():o;let m=["className"],p=["className"],y=["className"];function c(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,r)}return t}function d(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?c(Object(t),!0).forEach(function(a){var r,l;r=a,l=t[a],(r=function(e){var a=function(e,a){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,a||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(e,"string");return"symbol"==typeof a?a:String(a)}(r))in e?Object.defineProperty(e,r,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[r]=l}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function u(e,a){if(null==e)return{};var t,r,l=function(e,a){if(null==e)return{};var t,r,l={},n=Object.keys(e);for(r=0;r<n.length;r++)t=n[r],a.indexOf(t)>=0||(l[t]=e[t]);return l}(e,a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)t=n[r],!(a.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}let h=l.forwardRef((e,a)=>{let{className:t}=e,r=u(e,m);return i.jsx(n.Root,d({ref:a,className:(0,s.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t)},r))});h.displayName=n.Root.displayName;let f=l.forwardRef((e,a)=>{let{className:t}=e,r=u(e,p);return i.jsx(n.Image,d({ref:a,className:(0,s.cn)("aspect-square h-full w-full",t)},r))});f.displayName=n.Image.displayName;let j=l.forwardRef((e,a)=>{let{className:t}=e,r=u(e,y);return i.jsx(n.Fallback,d({ref:a,className:(0,s.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",t)},r))});j.displayName=n.Fallback.displayName,r()}catch(e){r(e)}})},5320:(e,a,t)=>{"use strict";t.a(e,async(e,r)=>{try{t.d(a,{Fw:()=>o,wy:()=>i,zF:()=>s});var l=t(4973),n=e([l]);let s=(l=(n.then?(await n)():n)[0]).Root,i=l.CollapsibleTrigger,o=l.CollapsibleContent;r()}catch(e){r(e)}})},9899:(e,a,t)=>{"use strict";t.a(e,async(e,r)=>{try{t.d(a,{Bw:()=>S,Ph:()=>v,Ql:()=>_,i4:()=>w,ki:()=>g});var l=t(6689),n=t(2132),s=t(3567),i=t(8710),o=t(997),c=e([s,i]);[s,i]=c.then?(await c)():c;let p=["className","children"],y=["className"],h=["className"],f=["className","children","position"],j=["className"],b=["className","children"],x=["className"];function d(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,r)}return t}function u(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?d(Object(t),!0).forEach(function(a){var r,l;r=a,l=t[a],(r=function(e){var a=function(e,a){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,a||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(e,"string");return"symbol"==typeof a?a:String(a)}(r))in e?Object.defineProperty(e,r,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[r]=l}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function m(e,a){if(null==e)return{};var t,r,l=function(e,a){if(null==e)return{};var t,r,l={},n=Object.keys(e);for(r=0;r<n.length;r++)t=n[r],a.indexOf(t)>=0||(l[t]=e[t]);return l}(e,a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)t=n[r],!(a.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}let v=s.Root;s.Group;let g=s.Value,w=l.forwardRef((e,a)=>{let{className:t,children:r}=e,l=m(e,p);return(0,o.jsxs)(s.Trigger,u(u({ref:a,className:(0,i.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t)},l),{},{children:[r,o.jsx(s.Icon,{asChild:!0,children:o.jsx(n.CaretSortIcon,{className:"h-4 w-4 opacity-50"})})]}))});w.displayName=s.Trigger.displayName;let N=l.forwardRef((e,a)=>{let{className:t}=e,r=m(e,y);return o.jsx(s.ScrollUpButton,u(u({ref:a,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",t)},r),{},{children:o.jsx(n.ChevronUpIcon,{})}))});N.displayName=s.ScrollUpButton.displayName;let O=l.forwardRef((e,a)=>{let{className:t}=e,r=m(e,h);return o.jsx(s.ScrollDownButton,u(u({ref:a,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",t)},r),{},{children:o.jsx(n.ChevronDownIcon,{})}))});O.displayName=s.ScrollDownButton.displayName;let S=l.forwardRef((e,a)=>{let{className:t,children:r,position:l="popper"}=e,n=m(e,f);return o.jsx(s.Portal,{children:(0,o.jsxs)(s.Content,u(u({ref:a,className:(0,i.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:l},n),{},{children:[o.jsx(N,{}),o.jsx(s.Viewport,{className:(0,i.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),o.jsx(O,{})]}))})});S.displayName=s.Content.displayName,l.forwardRef((e,a)=>{let{className:t}=e,r=m(e,j);return o.jsx(s.Label,u({ref:a,className:(0,i.cn)("px-2 py-1.5 text-sm font-semibold",t)},r))}).displayName=s.Label.displayName;let _=l.forwardRef((e,a)=>{let{className:t,children:r}=e,l=m(e,b);return(0,o.jsxs)(s.Item,u(u({ref:a,className:(0,i.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t)},l),{},{children:[o.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(s.ItemIndicator,{children:o.jsx(n.CheckIcon,{className:"h-4 w-4"})})}),o.jsx(s.ItemText,{children:r})]}))});_.displayName=s.Item.displayName,l.forwardRef((e,a)=>{let{className:t}=e,r=m(e,x);return o.jsx(s.Separator,u({ref:a,className:(0,i.cn)("-mx-1 my-1 h-px bg-muted",t)},r))}).displayName=s.Separator.displayName,r()}catch(e){r(e)}})},6951:(e,a,t)=>{"use strict";t.a(e,async(e,r)=>{try{t.d(a,{_v:()=>y,aJ:()=>p,pn:()=>u,u:()=>m});var l=t(6689),n=t(6704),s=t(8710),i=t(997),o=e([n,s]);[n,s]=o.then?(await o)():o;let d=["className","sideOffset"];function c(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,r)}return t}let u=n.Provider,m=n.Root,p=n.Trigger,y=l.forwardRef((e,a)=>{let{className:t,sideOffset:r=4}=e,l=function(e,a){if(null==e)return{};var t,r,l=function(e,a){if(null==e)return{};var t,r,l={},n=Object.keys(e);for(r=0;r<n.length;r++)t=n[r],a.indexOf(t)>=0||(l[t]=e[t]);return l}(e,a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)t=n[r],!(a.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}(e,d);return i.jsx(n.Content,function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?c(Object(t),!0).forEach(function(a){var r,l;r=a,l=t[a],(r=function(e){var a=function(e,a){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,a||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(e,"string");return"symbol"==typeof a?a:String(a)}(r))in e?Object.defineProperty(e,r,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[r]=l}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}({ref:a,sideOffset:r,className:(0,s.cn)("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t)},l))});y.displayName=n.Content.displayName,r()}catch(e){r(e)}})},8808:(e,a,t)=>{"use strict";t.a(e,async(e,r)=>{try{t.r(a),t.d(a,{default:()=>g});var l=t(6689),n=t(9899),s=t(1079),i=t(2132),o=t(6951),c=t(9222),d=t(5474),u=t(7231),m=t(5320),p=t(9648),y=t(467),h=t(4532),f=t.n(h),j=t(997),b=e([n,s,o,c,d,u,m,p,y]);function x(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,r)}return t}function v(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?x(Object(t),!0).forEach(function(a){var r,l;r=a,l=t[a],(r=function(e){var a=function(e,a){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,a||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(e,"string");return"symbol"==typeof a?a:String(a)}(r))in e?Object.defineProperty(e,r,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[r]=l}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}[n,s,o,c,d,u,m,p,y]=b.then?(await b)():b;let g=({authToken:e})=>{let a=new Date().getFullYear(),t=(new Date().getMonth()+1).toString().padStart(2,"0"),{0:r,1:h}=(0,l.useState)(a.toString()),{0:b,1:x}=(0,l.useState)(t),{0:g,1:w}=(0,l.useState)("All Field Officers"),{0:N,1:O}=(0,l.useState)([]),{0:S,1:_}=(0,l.useState)(!0),{0:D,1:C}=(0,l.useState)(1),{0:P,1:I}=(0,l.useState)({}),{0:k,1:E}=(0,l.useState)(null),{0:$,1:B}=(0,l.useState)({}),{0:T,1:F}=(0,l.useState)({}),{0:A,1:R}=(0,l.useState)(!0),M=Array.from({length:5},(e,t)=>{let r=a-2+t;return{value:r.toString(),label:r.toString()}}),{0:L,1:z}=(0,l.useState)(window.innerWidth<=768);(0,l.useEffect)(()=>{let e=()=>{z(window.innerWidth<=768)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let V=(0,l.useCallback)(async()=>{try{let a=(await p.default.get("https://api.gajkesaristeels.in/employee/getAll",{headers:{Authorization:`Bearer ${e}`}})).data.reduce((e,a)=>(e[a.id]=a,e),{});F(a)}catch(e){console.error("Error fetching employee data:",e)}},[e]),U=(0,l.useCallback)(async()=>{try{if(r&&b){let a=new Date,t=Number(r)===a.getFullYear()&&Number(b)===a.getMonth()+1?a.getDate()-1:Q(Number(r),Number(b)),l=await fetch(`https://api.gajkesaristeels.in/attendance-log/getForRange?start=${r}-${b}-01&end=${r}-${b}-${t.toString().padStart(2,"0")}`,{headers:{Authorization:`Bearer ${e}`}}),n=await l.json();O(n),_(n.length>0)}}catch(e){console.error("Error fetching data:",e),_(!1)}},[r,b,e]),W=(0,l.useCallback)(async a=>{try{let t=await fetch(`https://api.gajkesaristeels.in/travel-allowance/getForEmployeeAndDate?employeeId=${a}&start=${r}-${b}-01&end=${r}-${b}-${Q(Number(r),Number(b)).toString().padStart(2,"0")}`,{headers:{Authorization:`Bearer ${e}`}}),l=await t.json();I(e=>v(v({},e),{},{[a]:l}))}catch(e){console.error("Error fetching travel allowance data:",e)}},[r,b,e]);(0,l.useEffect)(()=>{V()},[V]),(0,l.useEffect)(()=>{r&&b&&U()},[r,b,U]),(0,l.useEffect)(()=>{N.forEach(e=>{W(e.employeeId)})},[N,W]),(0,l.useEffect)(()=>{Y()},[]);let Y=async()=>{try{let e=await p.default.post("https://account.olamaps.io/realms/olamaps/protocol/openid-connect/token",new URLSearchParams({grant_type:"client_credentials",scope:"openid",client_id:"7ba2810b-f481-4e31-a0c6-d436b0c7c1eb",client_secret:"klymi04gaquWCnpa57hBEpMXR7YPhkLD"}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}});E(e.data.access_token)}catch(e){console.error("Error getting access token:",e)}},Q=(e,a)=>new Date(e,a,0).getDate(),K=(e,a,t)=>Math.round(e/t*a),q=(e,a,t,r)=>Math.round(e*t)+Math.round(a*r),H=(e,a,t)=>{let r=new Date,l=r.getFullYear(),n=r.getMonth()+1,s=r.getDate(),i=a===l&&t===n?s-1:Q(a,t),o=Q(a,t),c=Math.min(e.fullDays+.5*e.halfDays,i),d=K(e.salary||0,c,o),u=q(e.distanceTravelledByCar||0,e.distanceTravelledByBike||0,e.pricePerKmCar||0,e.pricePerKmBike||0),m=(T[e.employeeId]||{}).dearnessAllowance||0,p=m*e.fullDays,y=m/2*e.halfDays,h=d+u+Math.min(p+y,m*i)+(e.statsDto?.approvedExpense||0);return Math.round(h)},J=e=>{let a=P[e];return a?a.dateDetails.filter(e=>e.checkoutCount>0&&0===e.totalDistanceTravelled).length:0},G=async a=>{if(!k){console.error("Access token not available");return}B(e=>v(v({},e),{},{[a]:!0}));try{let t=P[a];if(!t)return;let r=t.dateDetails.filter(e=>e.checkoutCount>0&&0===e.totalDistanceTravelled);if(0===r.length)return;let l=await Promise.all(t.dateDetails.map(async t=>{if(t.checkoutCount>0&&0===t.totalDistanceTravelled){let r=0,l=0;for(let e=0;e<t.visitDetails.length-1;e++){let a=t.visitDetails[e],n=t.visitDetails[e+1];if(a.checkinLatitude&&a.checkinLongitude&&n.checkinLatitude&&n.checkinLongitude){let e=await X(a.checkinLatitude,a.checkinLongitude,n.checkinLatitude,n.checkinLongitude),t=a.vehicleType||"Bike";"Car"===t?r+=e:l+=e}}return await p.default.post("https://api.gajkesaristeels.in/travel-allowance/create",{employeeId:a,date:t.date,distanceTravelledByCar:r,distanceTravelledByBike:l},{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),v(v({},t),{},{totalDistanceTravelled:r+l})}return t}));I(e=>v(v({},e),{},{[a]:v(v({},t),{},{dateDetails:l})})),await W(a)}catch(e){console.error("Error calculating distances:",e)}finally{B(e=>v(v({},e),{},{[a]:!1}))}},X=async(e,a,t,r)=>{try{return(await p.default.post("https://api.olamaps.io/routing/v1/directions",null,{params:{origin:`${e},${a}`,destination:`${t},${r}`,alternatives:!1,steps:!1,overview:"full",language:"en",traffic_metadata:!1},headers:{Authorization:`Bearer ${k}`,"X-Request-Id":crypto.randomUUID(),"X-Correlation-Id":crypto.randomUUID()}})).data.routes[0].legs[0].distance/1e3}catch(e){return console.error("Error calculating distance:",e),0}},Z=10*D,ee=N.sort((e,a)=>{let t=`${e.employeeFirstName} ${e.employeeLastName}`.toLowerCase(),r=`${a.employeeFirstName} ${a.employeeLastName}`.toLowerCase();return t.localeCompare(r)}).filter(e=>"All Field Officers"===g||`${e.employeeFirstName} ${e.employeeLastName}`===g).slice(Z-10,Z),ea=Math.ceil(N.length/10),et=["All Field Officers",...Array.from(new Set(N.map(e=>`${e.employeeFirstName} ${e.employeeLastName}`)))],er=(e,a)=>`${e.charAt(0)}${a.charAt(0)}`.toUpperCase();return(0,j.jsxs)("div",{className:f().salaryContainer,children:[j.jsx("h2",{className:f().pageTitle,children:"Salary Details"}),(0,j.jsxs)("div",{className:f().filterContainer,children:[j.jsx("div",{className:f().selectContainer,children:(0,j.jsxs)(n.Ph,{onValueChange:h,defaultValue:r,children:[j.jsx(n.i4,{children:j.jsx(n.ki,{placeholder:"Select Year"})}),j.jsx(n.Bw,{children:M.map(e=>j.jsx(n.Ql,{value:e.value,children:e.label},e.value))})]})}),j.jsx("div",{className:f().selectContainer,children:(0,j.jsxs)(n.Ph,{onValueChange:x,defaultValue:b,children:[j.jsx(n.i4,{children:j.jsx(n.ki,{placeholder:"Select Month"})}),j.jsx(n.Bw,{children:[{value:"01",label:"January"},{value:"02",label:"February"},{value:"03",label:"March"},{value:"04",label:"April"},{value:"05",label:"May"},{value:"06",label:"June"},{value:"07",label:"July"},{value:"08",label:"August"},{value:"09",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}].map(e=>j.jsx(n.Ql,{value:e.value,children:e.label},e.value))})]})}),j.jsx("div",{className:f().selectContainer,children:(0,j.jsxs)(n.Ph,{onValueChange:w,defaultValue:g,children:[j.jsx(n.i4,{children:j.jsx(n.ki,{placeholder:"Select Field Officer"})}),j.jsx(n.Bw,{children:et.map((e,a)=>j.jsx(n.Ql,{value:e,children:e},a))})]})})]}),S?(0,j.jsxs)(j.Fragment,{children:[L?j.jsx("div",{className:f().cardView,children:j.jsx("div",{className:f().mobileContainer,children:ee.map((e,a)=>(0,j.jsxs)(m.zF,{className:f().card,children:[(0,j.jsxs)(m.wy,{className:f().cardHeader,children:[(0,j.jsxs)("div",{className:f().employeeInfo,children:[j.jsx(u.qE,{className:f().avatar,children:j.jsx(u.Q5,{children:er(e.employeeFirstName,e.employeeLastName)})}),(0,j.jsxs)("div",{children:[j.jsx(d.ll,{className:f().employeeName,children:`${e.employeeFirstName} ${e.employeeLastName}`}),j.jsx("p",{className:f().employeeRole,children:"Field Officer"})]})]}),(0,j.jsxs)("div",{className:f().totalSalary,children:["₹",H(e,Number(r),Number(b))]})]}),(0,j.jsxs)(m.Fw,{className:f().cardContent,children:[(0,j.jsxs)("div",{className:f().salaryDetails,children:[(0,j.jsxs)("div",{className:f().detailItem,children:[j.jsx(y.CalendarIcon,{className:f().icon}),(0,j.jsxs)("div",{children:[j.jsx("span",{className:f().label,children:"Full Days:"}),j.jsx("span",{className:f().value,children:e.fullDays})]})]}),(0,j.jsxs)("div",{className:f().detailItem,children:[j.jsx(y.CalendarIcon,{className:f().icon}),(0,j.jsxs)("div",{children:[j.jsx("span",{className:f().label,children:"Half Days:"}),j.jsx("span",{className:f().value,children:e.halfDays})]})]}),(0,j.jsxs)("div",{className:f().detailItem,children:[j.jsx(y.CurrencyDollarIcon,{className:f().icon}),(0,j.jsxs)("div",{children:[j.jsx("span",{className:f().label,children:"Base Salary:"}),(0,j.jsxs)("span",{className:f().value,children:["₹",Math.round(K(e.salary||0,e.fullDays+.5*e.halfDays,Q(Number(r),Number(b))))]})]})]}),(0,j.jsxs)("div",{className:f().detailItem,children:[j.jsx(y.TruckIcon,{className:f().icon}),(0,j.jsxs)("div",{children:[j.jsx("span",{className:f().label,children:"TA:"}),(0,j.jsxs)("span",{className:f().value,children:["₹",Math.round(q(e.distanceTravelledByCar||0,e.distanceTravelledByBike||0,e.pricePerKmCar||0,e.pricePerKmBike||0))]})]})]}),(0,j.jsxs)("div",{className:f().detailItem,children:[j.jsx(y.CalculatorIcon,{className:f().icon}),(0,j.jsxs)("div",{children:[j.jsx("span",{className:f().label,children:"DA:"}),(0,j.jsxs)("span",{className:f().value,children:["₹",Math.round((T[e.employeeId]?.dearnessAllowance||0)*e.fullDays+(T[e.employeeId]?.dearnessAllowance||0)/2*e.halfDays)]})]})]}),(0,j.jsxs)("div",{className:f().detailItem,children:[j.jsx(y.CurrencyDollarIcon,{className:f().icon}),(0,j.jsxs)("div",{children:[j.jsx("span",{className:f().label,children:"Expense:"}),(0,j.jsxs)("span",{className:f().value,children:["₹",Math.round(e.statsDto?.approvedExpense||0)]})]})]})]}),J(e.employeeId)>0&&j.jsx("div",{className:f().anomalyWarning,children:j.jsx(o.pn,{children:(0,j.jsxs)(o.u,{children:[j.jsx(o.aJ,{asChild:!0,children:j.jsx(c.z,{size:"sm",variant:"outline",onClick:()=>G(e.employeeId),disabled:$[e.employeeId],className:f().anomalyButton,children:$[e.employeeId]?"Calculating...":(0,j.jsxs)(j.Fragment,{children:[j.jsx(i.ExclamationTriangleIcon,{className:f().warningIcon}),J(e.employeeId)," anomalies detected"]})})}),j.jsx(o._v,{children:j.jsx("p",{children:"Click to recalculate distances for days with anomalies"})})]})})})]})]},a))})}):j.jsx("div",{className:f().tableView,children:j.jsx("div",{className:f().desktopContainer,children:(0,j.jsxs)("table",{className:f().table,children:[j.jsx("thead",{children:(0,j.jsxs)("tr",{children:[j.jsx("th",{children:"Employee Name"}),j.jsx("th",{children:"Full Days"}),j.jsx("th",{children:"Half Days"}),j.jsx("th",{children:"Base Salary"}),j.jsx("th",{children:"TA"}),j.jsx("th",{children:"DA"}),j.jsx("th",{children:"Expense"}),j.jsx("th",{children:"Total Salary"}),j.jsx("th",{children:"Actions"})]})}),j.jsx("tbody",{children:ee.map((e,a)=>(0,j.jsxs)("tr",{children:[j.jsx("td",{children:`${e.employeeFirstName} ${e.employeeLastName}`}),j.jsx("td",{children:e.fullDays}),j.jsx("td",{children:e.halfDays}),(0,j.jsxs)("td",{children:["₹",Math.round(K(e.salary||0,e.fullDays+.5*e.halfDays,Q(Number(r),Number(b))))]}),(0,j.jsxs)("td",{children:["₹",Math.round(q(e.distanceTravelledByCar||0,e.distanceTravelledByBike||0,e.pricePerKmCar||0,e.pricePerKmBike||0))]}),(0,j.jsxs)("td",{children:["₹",Math.round((T[e.employeeId]?.dearnessAllowance||0)*e.fullDays+(T[e.employeeId]?.dearnessAllowance||0)/2*e.halfDays)]}),(0,j.jsxs)("td",{children:["₹",Math.round(e.statsDto?.approvedExpense||0)]}),(0,j.jsxs)("td",{children:["₹",H(e,Number(r),Number(b))]}),j.jsx("td",{children:J(e.employeeId)>0&&j.jsx(o.pn,{children:(0,j.jsxs)(o.u,{children:[j.jsx(o.aJ,{asChild:!0,children:(0,j.jsxs)(c.z,{size:"sm",variant:"outline",onClick:()=>G(e.employeeId),disabled:$[e.employeeId],className:f().tooltipButton,children:[j.jsx(i.ExclamationTriangleIcon,{className:`mr-2 h-4 w-4 ${f().warningIcon}`}),$[e.employeeId]?"Calculating...":`Calculate (${J(e.employeeId)})`]})}),j.jsx(o._v,{className:f().customTooltip,children:(0,j.jsxs)("p",{children:[J(e.employeeId)," day(s) with checkout but no distance traveled"]})})]})})})]},a))})]})})}),j.jsx(s.tl,{className:f().pagination,children:(0,j.jsxs)(s.ng,{children:[D>1&&j.jsx(s.nt,{children:j.jsx(s.dN,{onClick:()=>C(D-1)})}),[...Array(ea)].map((e,a)=>j.jsx(s.nt,{children:j.jsx(s.kN,{isActive:D===a+1,onClick:()=>C(a+1),children:a+1})},a)),D<ea&&j.jsx(s.nt,{children:j.jsx(s.$0,{onClick:()=>C(D+1)})})]})})]}):j.jsx("p",{className:f().noDataMessage,children:"No data available for the selected month and year. Please choose a different month or year."})]})};r()}catch(e){r(e)}})},4532:e=>{e.exports={salaryContainer:"Salary_salaryContainer__qAyC8",pageTitle:"Salary_pageTitle__WchRc",filterContainer:"Salary_filterContainer__EbDp0",selectContainer:"Salary_selectContainer__sFahw",tableView:"Salary_tableView__Cv53s",table:"Salary_table__nt7Zv",noDataMessage:"Salary_noDataMessage__WYRP0",pagination:"Salary_pagination__FIU1D",mobileContainer:"Salary_mobileContainer__Y_Och",card:"Salary_card__jsFBo",cardHeader:"Salary_cardHeader__FVZuW",employeeInfo:"Salary_employeeInfo__TrLCt",avatar:"Salary_avatar__fogYh",employeeName:"Salary_employeeName__2iwho",employeeRole:"Salary_employeeRole__wHDjk",totalSalary:"Salary_totalSalary__GnVtW",cardContent:"Salary_cardContent__KNruc",salaryDetails:"Salary_salaryDetails__hZVUa",detailItem:"Salary_detailItem__X0Q15",icon:"Salary_icon__olyuV",label:"Salary_label___4zpj",value:"Salary_value__GQh1Y",anomalyWarning:"Salary_anomalyWarning__08fSb",anomalyButton:"Salary_anomalyButton__lbygw",warningIcon:"Salary_warningIcon__FjRGp"}}};